---
comments: true
---

# äººè„¸æ£€æµ‹æ¨¡å—ä½¿ç”¨æ•™ç¨‹

## ä¸€ã€æ¦‚è¿°
äººè„¸æ£€æµ‹ä»»åŠ¡æ˜¯ç›®æ ‡æ£€æµ‹ä¸­çš„ä¸€é¡¹åŸºæœ¬ä»»åŠ¡ï¼Œæ—¨åœ¨ä»è¾“å…¥å›¾åƒä¸­è‡ªåŠ¨è¯†åˆ«å¹¶å®šä½äººè„¸çš„ä½ç½®å’Œå¤§å°ã€‚å®ƒæ˜¯äººè„¸è¯†åˆ«ã€äººè„¸åˆ†æç­‰åç»­ä»»åŠ¡çš„å‰æå’ŒåŸºç¡€ã€‚äººè„¸æ£€æµ‹ä»»åŠ¡é€šè¿‡æ„å»ºæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå­¦ä¹ äººè„¸çš„ç‰¹å¾è¡¨ç¤ºï¼Œå®ç°é«˜æ•ˆå‡†ç¡®çš„äººè„¸æ£€æµ‹ã€‚

## äºŒã€æ”¯æŒæ¨¡å‹åˆ—è¡¨

<table>
<thead>
<tr>
<th>æ¨¡å‹</th><th>æ¨¡å‹ä¸‹è½½é“¾æ¥</th>
<th>AP(%)</th>
<th>GPUæ¨ç†è€—æ—¶ï¼ˆmsï¼‰<br/>[å¸¸è§„æ¨¡å¼ / é«˜æ€§èƒ½æ¨¡å¼]</th>
<th>CPUæ¨ç†è€—æ—¶ï¼ˆmsï¼‰<br/>[å¸¸è§„æ¨¡å¼ / é«˜æ€§èƒ½æ¨¡å¼]</th>
<th>æ¨¡å‹å­˜å‚¨å¤§å° (M)</th>
<th>ä»‹ç»</th>
</tr>
</thead>
<tbody>
<tr>
<td>BlazeFace</td><td><a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0rc0/BlazeFace_infer.tar">æ¨ç†æ¨¡å‹</a>/<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/BlazeFace_pretrained.pdparams">è®­ç»ƒæ¨¡å‹</a></td>
<td>15.4</td>
<td>60.34 / 54.76</td>
<td>84.18 / 84.18</td>
<td>0.447</td>
<td>è½»é‡é«˜æ•ˆçš„äººè„¸æ£€æµ‹æ¨¡å‹</td>
</tr>
<tr>
<td>BlazeFace-FPN-SSH</td><td><a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0rc0/BlazeFace-FPN-SSH_infer.tar">æ¨ç†æ¨¡å‹</a>/<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/BlazeFace-FPN-SSH_pretrained.pdparams">è®­ç»ƒæ¨¡å‹</a></td>
<td>18.7</td>
<td>69.29 / 63.42</td>
<td>86.96 / 86.96</td>
<td>0.606</td>
<td>BlazeFaceçš„æ”¹è¿›æ¨¡å‹ï¼Œå¢åŠ FPNå’ŒSSHç»“æ„</td>
</tr>
<tr>
<td>PicoDet_LCNet_x2_5_face</td><td><a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0rc0/PicoDet_LCNet_x2_5_face_infer.tar">æ¨ç†æ¨¡å‹</a>/<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PicoDet_LCNet_x2_5_face_pretrained.pdparams">è®­ç»ƒæ¨¡å‹</a></td>
<td>31.4</td>
<td>35.37 / 12.88</td>
<td>126.24 / 126.24</td>
<td>28.9</td>
<td>åŸºäºPicoDet_LCNet_x2_5çš„äººè„¸æ£€æµ‹æ¨¡å‹</td>
</tr>
<tr>
<td>PP-YOLOE_plus-S_face</td><td><a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0rc0/PP-YOLOE_plus-S_face_infer.tar">æ¨ç†æ¨¡å‹</a>/<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/PP-YOLOE_plus-S_face_pretrained.pdparams">è®­ç»ƒæ¨¡å‹</a></td>
<td>36.1</td>
<td>22.54 / 8.33</td>
<td>138.67 / 138.67</td>
<td>26.5</td>
<td>åŸºäºPP-YOLOE_plus-Sçš„äººè„¸æ£€æµ‹æ¨¡å‹</td>
</tr>
</tbody>
</table>
<p>æ³¨ï¼šä»¥ä¸Šç²¾åº¦æŒ‡æ ‡æ˜¯åœ¨ COCO æ ¼å¼çš„ WIDER-FACE éªŒè¯é›†ä¸Šï¼Œä»¥640
*640ä½œä¸ºè¾“å…¥å°ºå¯¸è¯„ä¼°å¾—åˆ°çš„ã€‚æ‰€æœ‰æ¨¡å‹ GPU æ¨ç†è€—æ—¶åŸºäº NVIDIA V100 æœºå™¨ï¼Œç²¾åº¦ç±»å‹ä¸º FP32ï¼Œ CPU æ¨ç†é€Ÿåº¦åŸºäº Intel(R) Xeon(R) Gold 6271C CPU @ 2.60GHzï¼Œç²¾åº¦ç±»å‹ä¸º FP32ã€‚</p>


## ä¸‰ã€å¿«é€Ÿé›†æˆ
> â— åœ¨å¿«é€Ÿé›†æˆå‰ï¼Œè¯·å…ˆå®‰è£… PaddleX çš„ wheel åŒ…ï¼Œè¯¦ç»†è¯·å‚è€ƒ [PaddleXæœ¬åœ°å®‰è£…æ•™ç¨‹](../../../installation/installation.md)

å®ŒæˆwhlåŒ…çš„å®‰è£…åï¼Œå‡ è¡Œä»£ç å³å¯å®Œæˆäººè„¸æ£€æµ‹æ¨¡å—çš„æ¨ç†ï¼Œå¯ä»¥ä»»æ„åˆ‡æ¢è¯¥æ¨¡å—ä¸‹çš„æ¨¡å‹ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†äººè„¸æ£€æµ‹çš„æ¨¡å—ä¸­çš„æ¨¡å‹æ¨ç†é›†æˆåˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚è¿è¡Œä»¥ä¸‹ä»£ç å‰ï¼Œè¯·æ‚¨ä¸‹è½½[ç¤ºä¾‹å›¾ç‰‡](https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/face_detection.png)åˆ°æœ¬åœ°ã€‚

```python
from paddlex import create_model

model_name = "PicoDet_LCNet_x2_5_face"

model = create_model(model_name)
output = model.predict("face_detection.png", batch_size=1)

for res in output:
    res.print(json_format=False)
    res.save_to_img("./output/")
    res.save_to_json("./output/res.json")
```

è¿è¡Œåï¼Œå¾—åˆ°çš„ç»“æœä¸ºï¼š

```bash
{'res': {'input_path': 'face_detection.png', 'boxes': [{'cls_id': 0, 'label': 'face', 'score': 0.748367965221405, 'coordinate': [586.83154296875, 342.7668151855469, 595.56005859375, 352.7322692871094]}, {'cls_id': 0, 'label': 'face', 'score': 0.7040695548057556, 'coordinate': [679.3336181640625, 252.70413208007812, 687.8116455078125, 264.118896484375]}, {'cls_id': 0, 'label': 'face', 'score': 0.7013024687767029, 'coordinate': [655.5321044921875, 359.2837219238281, 664.028564453125, 370.1717224121094]}, {'cls_id': 0, 'label': 'face', 'score': 0.6968276500701904, 'coordinate': [385.4735107421875, 106.36427307128906, 392.57501220703125, 115.34565734863281]}, {'cls_id': 0, 'label': 'face', 'score': 0.6547412872314453, 'coordinate': [460.8025207519531, 304.8067626953125, 468.662841796875, 315.1859130859375]}, {'cls_id': 0, 'label': 'face', 'score': 0.654322624206543, 'coordinate': [641.4616088867188, 9.26927661895752, 647.674560546875, 17.80522918701172]}, {'cls_id': 0, 'label': 'face', 'score': 0.6522411704063416, 'coordinate': [804.1121826171875, 612.6964721679688, 813.2249755859375, 624.7404174804688]}, {'cls_id': 0, 'label': 'face', 'score': 0.6494446992874146, 'coordinate': [567.8344116210938, 254.95977783203125, 576.0180053710938, 265.2414855957031]}, {'cls_id': 0, 'label': 'face', 'score': 0.647239089012146, 'coordinate': [784.8236083984375, 69.3985824584961, 791.87060546875, 78.83570861816406]}, {'cls_id': 0, 'label': 'face', 'score': 0.645237922668457, 'coordinate': [461.0616760253906, 170.65554809570312, 468.1227722167969, 180.4543914794922]}, {'cls_id': 0, 'label': 'face', 'score': 0.6428831219673157, 'coordinate': [596.9057006835938, 145.5034942626953, 603.8390502929688, 155.76255798339844]}, {'cls_id': 0, 'label': 'face', 'score': 0.635290265083313, 'coordinate': [978.6275024414062, 632.8814086914062, 989.2858276367188, 645.9703369140625]}, {'cls_id': 0, 'label': 'face', 'score': 0.6351185441017151, 'coordinate': [687.6617431640625, 138.90045166015625, 694.2169799804688, 148.66720581054688]}, {'cls_id': 0, 'label': 'face', 'score': 0.6283911466598511, 'coordinate': [423.2082214355469, 127.0450439453125, 429.9551696777344, 136.3946533203125]}, {'cls_id': 0, 'label': 'face', 'score': 0.6244862079620361, 'coordinate': [581.82275390625, 200.42108154296875, 588.7484741210938, 209.8951416015625]}, {'cls_id': 0, 'label': 'face', 'score': 0.6221384406089783, 'coordinate': [370.1514587402344, 168.1388702392578, 378.11297607421875, 178.57049560546875]}, {'cls_id': 0, 'label': 'face', 'score': 0.6171290278434753, 'coordinate': [655.06396484375, 190.71421813964844, 662.4423217773438, 200.9834442138672]}, {'cls_id': 0, 'label': 'face', 'score': 0.6137390732765198, 'coordinate': [398.8143310546875, 192.92584228515625, 406.77587890625, 203.5181121826172]}, {'cls_id': 0, 'label': 'face', 'score': 0.6107531189918518, 'coordinate': [426.2248229980469, 174.40940856933594, 433.2980651855469, 184.15167236328125]}, {'cls_id': 0, 'label': 'face', 'score': 0.6092986464500427, 'coordinate': [324.9934997558594, 117.24430847167969, 331.8951110839844, 126.23627471923828]}, {'cls_id': 0, 'label': 'face', 'score': 0.607699990272522, 'coordinate': [544.6709594726562, 153.3218536376953, 551.3650512695312, 163.32049560546875]}, {'cls_id': 0, 'label': 'face', 'score': 0.6042397022247314, 'coordinate': [513.06103515625, 187.57003784179688, 519.810546875, 196.89759826660156]}, {'cls_id': 0, 'label': 'face', 'score': 0.6038359999656677, 'coordinate': [517.808837890625, 325.5520935058594, 525.3433227539062, 335.09844970703125]}, {'cls_id': 0, 'label': 'face', 'score': 0.60162353515625, 'coordinate': [605.2512817382812, 9.034326553344727, 611.43359375, 17.63986587524414]}, {'cls_id': 0, 'label': 'face', 'score': 0.6000550985336304, 'coordinate': [308.621337890625, 161.19313049316406, 316.0295104980469, 171.12921142578125]}, {'cls_id': 0, 'label': 'face', 'score': 0.5962246656417847, 'coordinate': [750.8837280273438, 595.826416015625, 761.5985107421875, 609.9155883789062]}, {'cls_id': 0, 'label': 'face', 'score': 0.5959786176681519, 'coordinate': [815.2214965820312, 119.83965301513672, 822.11572265625, 128.9686279296875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5952416062355042, 'coordinate': [129.22276306152344, 341.8433532714844, 140.06057739257812, 356.851318359375]}, {'cls_id': 0, 'label': 'face', 'score': 0.5921688079833984, 'coordinate': [830.36083984375, 231.48342895507812, 838.8031616210938, 242.44595336914062]}, {'cls_id': 0, 'label': 'face', 'score': 0.5867078304290771, 'coordinate': [1011.5479125976562, 170.10679626464844, 1018.60205078125, 179.95533752441406]}, {'cls_id': 0, 'label': 'face', 'score': 0.5841799378395081, 'coordinate': [452.0153503417969, 143.87330627441406, 458.7742004394531, 153.7798614501953]}, {'cls_id': 0, 'label': 'face', 'score': 0.5795201659202576, 'coordinate': [942.02880859375, 104.56780242919922, 948.6239624023438, 113.49226379394531]}, {'cls_id': 0, 'label': 'face', 'score': 0.578009843826294, 'coordinate': [665.4860229492188, 12.127445220947266, 671.739013671875, 19.92763328552246]}, {'cls_id': 0, 'label': 'face', 'score': 0.575183629989624, 'coordinate': [548.813232421875, 205.44232177734375, 555.7802734375, 214.8798065185547]}, {'cls_id': 0, 'label': 'face', 'score': 0.5749289393424988, 'coordinate': [525.3703002929688, 37.35319137573242, 532.8809204101562, 48.29341125488281]}, {'cls_id': 0, 'label': 'face', 'score': 0.5741029977798462, 'coordinate': [267.226318359375, 203.7793731689453, 276.1531677246094, 215.31790161132812]}, {'cls_id': 0, 'label': 'face', 'score': 0.5717172622680664, 'coordinate': [487.4885559082031, 133.73777770996094, 494.1946105957031, 143.52841186523438]}, {'cls_id': 0, 'label': 'face', 'score': 0.5716090202331543, 'coordinate': [847.9454956054688, 120.08977508544922, 855.2705078125, 129.53871154785156]}, {'cls_id': 0, 'label': 'face', 'score': 0.5712835788726807, 'coordinate': [344.761474609375, 175.31829833984375, 352.2358093261719, 185.17408752441406]}, {'cls_id': 0, 'label': 'face', 'score': 0.5700110793113708, 'coordinate': [265.0657958984375, 170.31253051757812, 271.9244079589844, 179.15249633789062]}, {'cls_id': 0, 'label': 'face', 'score': 0.5698822736740112, 'coordinate': [574.304931640625, 118.77815246582031, 581.50439453125, 129.45875549316406]}, {'cls_id': 0, 'label': 'face', 'score': 0.5661887526512146, 'coordinate': [327.7814025878906, 151.88540649414062, 336.2471008300781, 162.232421875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5657126903533936, 'coordinate': [766.1329345703125, 380.17059326171875, 773.3143920898438, 389.7149963378906]}, {'cls_id': 0, 'label': 'face', 'score': 0.5656450390815735, 'coordinate': [262.93048095703125, 135.5059814453125, 270.763916015625, 145.3970947265625]}, {'cls_id': 0, 'label': 'face', 'score': 0.5647367238998413, 'coordinate': [993.9485473632812, 194.26812744140625, 1000.8638305664062, 203.5723419189453]}, {'cls_id': 0, 'label': 'face', 'score': 0.5644330382347107, 'coordinate': [464.95098876953125, 143.08924865722656, 472.000732421875, 153.5122833251953]}, {'cls_id': 0, 'label': 'face', 'score': 0.5629076957702637, 'coordinate': [434.9204406738281, 149.97059631347656, 441.84368896484375, 159.5159454345703]}, {'cls_id': 0, 'label': 'face', 'score': 0.5591433644294739, 'coordinate': [484.9643859863281, 216.93482971191406, 491.9638671875, 226.16673278808594]}, {'cls_id': 0, 'label': 'face', 'score': 0.5577755570411682, 'coordinate': [697.8162231445312, 467.0403137207031, 707.13623046875, 481.5167541503906]}, {'cls_id': 0, 'label': 'face', 'score': 0.5571652054786682, 'coordinate': [575.9535522460938, 173.58697509765625, 582.6239013671875, 183.01803588867188]}, {'cls_id': 0, 'label': 'face', 'score': 0.5568857789039612, 'coordinate': [854.416259765625, 400.8706970214844, 862.5512084960938, 411.5679016113281]}, {'cls_id': 0, 'label': 'face', 'score': 0.5568552017211914, 'coordinate': [726.2380981445312, 134.23175048828125, 732.9859619140625, 143.24359130859375]}, {'cls_id': 0, 'label': 'face', 'score': 0.5552074909210205, 'coordinate': [946.8074951171875, 150.908203125, 953.7364501953125, 160.1160888671875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5540658831596375, 'coordinate': [638.5432739257812, 154.90652465820312, 645.052490234375, 164.36062622070312]}, {'cls_id': 0, 'label': 'face', 'score': 0.5524702668190002, 'coordinate': [908.3207397460938, 571.7152099609375, 917.85498046875, 582.7459716796875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5519255995750427, 'coordinate': [392.22674560546875, 161.07704162597656, 399.60980224609375, 171.21505737304688]}, {'cls_id': 0, 'label': 'face', 'score': 0.5512804388999939, 'coordinate': [290.897705078125, 167.27468872070312, 298.8089599609375, 177.54385375976562]}, {'cls_id': 0, 'label': 'face', 'score': 0.549347996711731, 'coordinate': [741.4368286132812, 96.00164794921875, 748.0814208984375, 104.84812927246094]}, {'cls_id': 0, 'label': 'face', 'score': 0.5493444800376892, 'coordinate': [627.7223510742188, 111.2412338256836, 634.6829833984375, 120.89079284667969]}, {'cls_id': 0, 'label': 'face', 'score': 0.5484412908554077, 'coordinate': [942.8670654296875, 169.956298828125, 949.753662109375, 179.58168029785156]}, {'cls_id': 0, 'label': 'face', 'score': 0.5433928370475769, 'coordinate': [495.8935546875, 161.2371368408203, 502.8511657714844, 171.831787109375]}, {'cls_id': 0, 'label': 'face', 'score': 0.5411538481712341, 'coordinate': [966.8755493164062, 89.61585235595703, 974.01708984375, 99.20806884765625]}, {'cls_id': 0, 'label': 'face', 'score': 0.5397874116897583, 'coordinate': [911.2400512695312, 85.85540008544922, 918.2730712890625, 94.37992095947266]}, {'cls_id': 0, 'label': 'face', 'score': 0.5373152494430542, 'coordinate': [904.8760375976562, 101.83809661865234, 912.178466796875, 111.14995574951172]}, {'cls_id': 0, 'label': 'face', 'score': 0.5363165736198425, 'coordinate': [812.86767578125, 183.46951293945312, 819.8478393554688, 192.6529083251953]}, {'cls_id': 0, 'label': 'face', 'score': 0.5351170301437378, 'coordinate': [974.45849609375, 153.04583740234375, 982.1405029296875, 163.85182189941406]}, {'cls_id': 0, 'label': 'face', 'score': 0.5350357890129089, 'coordinate': [746.5970458984375, 113.35935974121094, 753.0759887695312, 122.73274230957031]}, {'cls_id': 0, 'label': 'face', 'score': 0.5328549146652222, 'coordinate': [881.665771484375, 157.66879272460938, 888.5724487304688, 166.84524536132812]}, {'cls_id': 0, 'label': 'face', 'score': 0.532268762588501, 'coordinate': [509.4955749511719, 128.1408233642578, 516.4570922851562, 137.71487426757812]}, {'cls_id': 0, 'label': 'face', 'score': 0.5312089920043945, 'coordinate': [748.0822143554688, 14.927801132202148, 754.0698852539062, 23.060955047607422]}, {'cls_id': 0, 'label': 'face', 'score': 0.5301514863967896, 'coordinate': [698.60107421875, 592.9287719726562, 709.08740234375, 608.2547607421875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5291982889175415, 'coordinate': [853.537353515625, 497.73388671875, 862.7291870117188, 510.3872375488281]}, {'cls_id': 0, 'label': 'face', 'score': 0.5284016132354736, 'coordinate': [877.9340209960938, 195.67881774902344, 884.9655151367188, 205.39552307128906]}, {'cls_id': 0, 'label': 'face', 'score': 0.524852991104126, 'coordinate': [443.56048583984375, 125.34044647216797, 450.53216552734375, 134.87721252441406]}, {'cls_id': 0, 'label': 'face', 'score': 0.5237076878547668, 'coordinate': [864.43798828125, 98.259765625, 871.5907592773438, 106.94507598876953]}, {'cls_id': 0, 'label': 'face', 'score': 0.523581862449646, 'coordinate': [895.39599609375, 203.71728515625, 902.3679809570312, 213.05873107910156]}, {'cls_id': 0, 'label': 'face', 'score': 0.5232769250869751, 'coordinate': [508.1500549316406, 94.16983032226562, 515.2929077148438, 104.36737060546875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5197194218635559, 'coordinate': [964.1079711914062, 268.97369384765625, 971.7310180664062, 279.86053466796875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5187004804611206, 'coordinate': [705.9102783203125, 267.20501708984375, 713.0789184570312, 276.50921630859375]}, {'cls_id': 0, 'label': 'face', 'score': 0.5185328722000122, 'coordinate': [188.63758850097656, 192.71762084960938, 195.5178985595703, 201.68702697753906]}, {'cls_id': 0, 'label': 'face', 'score': 0.5183883905410767, 'coordinate': [841.8475952148438, 152.13719177246094, 848.8064575195312, 162.1306610107422]}, {'cls_id': 0, 'label': 'face', 'score': 0.5182327032089233, 'coordinate': [618.0513305664062, 54.13559341430664, 625.4635009765625, 63.254356384277344]}, {'cls_id': 0, 'label': 'face', 'score': 0.5181956887245178, 'coordinate': [90.88504791259766, 103.90827178955078, 96.98222351074219, 111.67485046386719]}, {'cls_id': 0, 'label': 'face', 'score': 0.5179163813591003, 'coordinate': [696.462158203125, 191.00534057617188, 704.2958984375, 200.7041015625]}, {'cls_id': 0, 'label': 'face', 'score': 0.5152389407157898, 'coordinate': [1004.4434814453125, 142.3948974609375, 1011.4993286132812, 152.9167022705078]}, {'cls_id': 0, 'label': 'face', 'score': 0.5132371783256531, 'coordinate': [824.3988647460938, 104.93993377685547, 831.6600341796875, 114.49164581298828]}, {'cls_id': 0, 'label': 'face', 'score': 0.512485682964325, 'coordinate': [182.48626708984375, 241.70651245117188, 191.400390625, 253.36883544921875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5107918381690979, 'coordinate': [677.3311157226562, 23.615076065063477, 683.8475341796875, 32.1396369934082]}, {'cls_id': 0, 'label': 'face', 'score': 0.5083979964256287, 'coordinate': [919.97705078125, 216.38670349121094, 927.0363159179688, 225.7605438232422]}, {'cls_id': 0, 'label': 'face', 'score': 0.508198618888855, 'coordinate': [788.8171997070312, 92.79387664794922, 795.2500610351562, 101.81549835205078]}, {'cls_id': 0, 'label': 'face', 'score': 0.5081363320350647, 'coordinate': [649.3057250976562, 137.01023864746094, 655.3905029296875, 145.69985961914062]}, {'cls_id': 0, 'label': 'face', 'score': 0.5073381066322327, 'coordinate': [935.124755859375, 229.1543426513672, 941.9274291992188, 238.734130859375]}, {'cls_id': 0, 'label': 'face', 'score': 0.5042576789855957, 'coordinate': [113.26185607910156, 232.80154418945312, 121.303955078125, 242.5761260986328]}, {'cls_id': 0, 'label': 'face', 'score': 0.5031769275665283, 'coordinate': [676.889892578125, 168.4464111328125, 683.51904296875, 177.55438232421875]}, {'cls_id': 0, 'label': 'face', 'score': 0.5023666620254517, 'coordinate': [962.6386108398438, 188.63504028320312, 969.4259033203125, 198.957275390625]}, {'cls_id': 0, 'label': 'face', 'score': 0.5021270513534546, 'coordinate': [403.39642333984375, 133.8506622314453, 411.1600341796875, 144.05316162109375]}]}}
```

å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š
- `input_path`ï¼šè¾“å…¥çš„å¾…é¢„æµ‹å›¾åƒçš„è·¯å¾„
- `boxes`ï¼šé¢„æµ‹çš„ç›®æ ‡æ¡†ä¿¡æ¯ï¼Œä¸€ä¸ªå­—å…¸åˆ—è¡¨ã€‚æ¯ä¸ªå­—å…¸åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
  - `cls_id`ï¼šç±»åˆ«IDï¼Œä¸€ä¸ªæ•´æ•°
  - `label`ï¼šç±»åˆ«æ ‡ç­¾ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²
  - `score`ï¼šç›®æ ‡æ¡†ç½®ä¿¡åº¦ï¼Œä¸€ä¸ªæµ®ç‚¹æ•°
  - `coordinate`ï¼šç›®æ ‡æ¡†åæ ‡ï¼Œä¸€ä¸ªåˆ—è¡¨[xmin, ymin, xmax, ymax]

å¯è§†åŒ–å›¾åƒå¦‚ä¸‹ï¼š

<img src="https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/refs/heads/main/images/modules/face_det/face_detection_res.png"/>

ç›¸å…³æ–¹æ³•ã€å‚æ•°ç­‰è¯´æ˜å¦‚ä¸‹ï¼š

* `create_model`å®ä¾‹åŒ–äººè„¸æ£€æµ‹æ¨¡å‹ï¼ˆæ­¤å¤„ä»¥`PicoDet_LCNet_x2_5_face`ä¸ºä¾‹ï¼‰ï¼Œå…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
<th>å‚æ•°ç±»å‹</th>
<th>å¯é€‰é¡¹</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td><code>model_name</code></td>
<td>æ¨¡å‹åç§°</td>
<td><code>str</code></td>
<td>æ— </td>
<td>æ— </td>
</tr>
<tr>
<td><code>model_dir</code></td>
<td>æ¨¡å‹å­˜å‚¨è·¯å¾„</td>
<td><code>str</code></td>
<td>æ— </td>
<td>æ— </td>
</tr>
<tr>
<td><code>img_size</code></td>
<td>è¾“å…¥å›¾åƒå¤§å°ï¼›å¦‚æœä¸æŒ‡å®šï¼Œå°†é»˜è®¤ä½¿ç”¨PaddleXå®˜æ–¹æ¨¡å‹é…ç½®</td>
<td><code>int/list/None</code></td>
<td>
<ul>
<li><b>int</b>, å¦‚ 640 , è¡¨ç¤ºå°†è¾“å…¥å›¾åƒresizeåˆ°640x640å¤§å°</li>
<li><b>åˆ—è¡¨</b>, å¦‚ [640, 512] , è¡¨ç¤ºå°†è¾“å…¥å›¾åƒresizeåˆ°å®½ä¸º640ï¼Œé«˜ä¸º512å¤§å°</li>
</ul>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>threshold</code></td>
<td>ç”¨äºè¿‡æ»¤æ‰ä½ç½®ä¿¡åº¦é¢„æµ‹ç»“æœçš„é˜ˆå€¼ï¼›å¦‚æœä¸æŒ‡å®šï¼Œå°†é»˜è®¤ä½¿ç”¨PaddleXå®˜æ–¹æ¨¡å‹é…ç½®</td>
<td><code>float/None</code></td>
<td>æ— </td>
<td><code>None</code></td>
</tr>
</table>

* å…¶ä¸­ï¼Œ`model_name` å¿…é¡»æŒ‡å®šï¼ŒæŒ‡å®š `model_name` åï¼Œé»˜è®¤ä½¿ç”¨ PaddleX å†…ç½®çš„æ¨¡å‹å‚æ•°ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼ŒæŒ‡å®š `model_dir` æ—¶ï¼Œä½¿ç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„æ¨¡å‹ã€‚

* è°ƒç”¨äººè„¸æ£€æµ‹æ¨¡å‹çš„ `predict()` æ–¹æ³•è¿›è¡Œæ¨ç†é¢„æµ‹ï¼Œ`predict()` æ–¹æ³•å‚æ•°æœ‰ `input`ã€`batch_size`å’Œ`threshold`ï¼Œå…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
<th>å‚æ•°ç±»å‹</th>
<th>å¯é€‰é¡¹</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td><code>input</code></td>
<td>å¾…é¢„æµ‹æ•°æ®ï¼Œæ”¯æŒå¤šç§è¾“å…¥ç±»å‹</td>
<td><code>Python Var</code>/<code>str</code>/<code>dict</code>/<code>list</code></td>
<td>
<ul>
<li><b>Pythonå˜é‡</b>ï¼Œå¦‚<code>numpy.ndarray</code>è¡¨ç¤ºçš„å›¾åƒæ•°æ®</li>
<li><b>æ–‡ä»¶è·¯å¾„</b>ï¼Œå¦‚å›¾åƒæ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ï¼š<code>/root/data/img.jpg</code></li>
<li><b>URLé“¾æ¥</b>ï¼Œå¦‚å›¾åƒæ–‡ä»¶çš„ç½‘ç»œURLï¼š<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/general_ocr_rec_001.png">ç¤ºä¾‹</a></li>
<li><b>æœ¬åœ°ç›®å½•</b>ï¼Œè¯¥ç›®å½•ä¸‹éœ€åŒ…å«å¾…é¢„æµ‹æ•°æ®æ–‡ä»¶ï¼Œå¦‚æœ¬åœ°è·¯å¾„ï¼š<code>/root/data/</code></li>
<li><b>å­—å…¸</b>ï¼Œå­—å…¸çš„<code>key</code>éœ€ä¸å…·ä½“ä»»åŠ¡å¯¹åº”ï¼Œå¦‚å›¾åƒåˆ†ç±»ä»»åŠ¡å¯¹åº”<code>\"img\"</code>ï¼Œå­—å…¸çš„<code>val</code>æ”¯æŒä¸Šè¿°ç±»å‹æ•°æ®ï¼Œä¾‹å¦‚ï¼š<code>{\"img\": \"/root/data1\"}</code></li>
<li><b>åˆ—è¡¨</b>ï¼Œåˆ—è¡¨å…ƒç´ éœ€ä¸ºä¸Šè¿°ç±»å‹æ•°æ®ï¼Œå¦‚<code>[numpy.ndarray, numpy.ndarray]</code>ï¼Œ<code>[\"/root/data/img1.jpg\", \"/root/data/img2.jpg\"]</code>ï¼Œ<code>[\"/root/data1\", \"/root/data2\"]</code>ï¼Œ<code>[{\"img\": \"/root/data1\"}, {\"img\": \"/root/data2/img.jpg\"}]</code></li>
</ul>
</td>
<td>æ— </td>
</tr>
<tr>
<td><code>batch_size</code></td>
<td>æ‰¹å¤§å°</td>
<td><code>int</code></td>
<td>ä»»æ„æ•´æ•°</td>
<td>1</td>
</tr>
<tr>
<td><code>threshold</code></td>
<td>ç”¨äºè¿‡æ»¤æ‰ä½ç½®ä¿¡åº¦é¢„æµ‹ç»“æœçš„é˜ˆå€¼ï¼›å¦‚æœä¸æŒ‡å®šï¼Œå°†é»˜è®¤ä½¿ç”¨ <code>creat_model</code> æŒ‡å®šçš„<code>threshold</code> å‚æ•°ï¼Œå¦‚æœ<code>creat_model</code> ä¹Ÿæ²¡æœ‰æŒ‡å®šï¼Œ åˆ™é»˜è®¤ä½¿ç”¨PaddleXå®˜æ–¹æ¨¡å‹é…ç½®</td>
<td><code>float</code></td>
<td>æ— </td>
<td>æ— </td>
</tr>
</table>

* å¯¹é¢„æµ‹ç»“æœè¿›è¡Œå¤„ç†ï¼Œæ¯ä¸ªæ ·æœ¬çš„é¢„æµ‹ç»“æœå‡ä¸ºå¯¹åº”çš„Resultå¯¹è±¡ï¼Œä¸”æ”¯æŒæ‰“å°ã€ä¿å­˜ä¸ºå›¾ç‰‡ã€ä¿å­˜ä¸º`json`æ–‡ä»¶çš„æ“ä½œ:

<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ–¹æ³•è¯´æ˜</th>
<th>å‚æ•°</th>
<th>å‚æ•°ç±»å‹</th>
<th>å‚æ•°è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td rowspan="3"><code>print()</code></td>
<td rowspan="3">æ‰“å°ç»“æœåˆ°ç»ˆç«¯</td>
<td><code>format_json</code></td>
<td><code>bool</code></td>
<td>æ˜¯å¦å¯¹è¾“å‡ºå†…å®¹è¿›è¡Œä½¿ç”¨ <code>JSON</code> ç¼©è¿›æ ¼å¼åŒ–</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>indent</code></td>
<td><code>int</code></td>
<td>æŒ‡å®šç¼©è¿›çº§åˆ«ï¼Œä»¥ç¾åŒ–è¾“å‡ºçš„ <code>JSON</code> æ•°æ®ï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ï¼Œä»…å½“ <code>format_json</code> ä¸º <code>True</code> æ—¶æœ‰æ•ˆ</td>
<td>4</td>
</tr>
<tr>
<td><code>ensure_ascii</code></td>
<td><code>bool</code></td>
<td>æ§åˆ¶æ˜¯å¦å°†é <code>ASCII</code> å­—ç¬¦è½¬ä¹‰ä¸º <code>Unicode</code>ã€‚è®¾ç½®ä¸º <code>True</code> æ—¶ï¼Œæ‰€æœ‰é <code>ASCII</code> å­—ç¬¦å°†è¢«è½¬ä¹‰ï¼›<code>False</code> åˆ™ä¿ç•™åŸå§‹å­—ç¬¦ï¼Œä»…å½“<code>format_json</code>ä¸º<code>True</code>æ—¶æœ‰æ•ˆ</td>
<td><code>False</code></td>
</tr>
<tr>
<td rowspan="3"><code>save_to_json()</code></td>
<td rowspan="3">å°†ç»“æœä¿å­˜ä¸ºjsonæ ¼å¼çš„æ–‡ä»¶</td>
<td><code>save_path</code></td>
<td><code>str</code></td>
<td>ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œå½“ä¸ºç›®å½•æ—¶ï¼Œä¿å­˜æ–‡ä»¶å‘½åä¸è¾“å…¥æ–‡ä»¶ç±»å‹å‘½åä¸€è‡´</td>
<td>æ— </td>
</tr>
<tr>
<td><code>indent</code></td>
<td><code>int</code></td>
<td>æŒ‡å®šç¼©è¿›çº§åˆ«ï¼Œä»¥ç¾åŒ–è¾“å‡ºçš„ <code>JSON</code> æ•°æ®ï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ï¼Œä»…å½“ <code>format_json</code> ä¸º <code>True</code> æ—¶æœ‰æ•ˆ</td>
<td>4</td>
</tr>
<tr>
<td><code>ensure_ascii</code></td>
<td><code>bool</code></td>
<td>æ§åˆ¶æ˜¯å¦å°†é <code>ASCII</code> å­—ç¬¦è½¬ä¹‰ä¸º <code>Unicode</code>ã€‚è®¾ç½®ä¸º <code>True</code> æ—¶ï¼Œæ‰€æœ‰é <code>ASCII</code> å­—ç¬¦å°†è¢«è½¬ä¹‰ï¼›<code>False</code> åˆ™ä¿ç•™åŸå§‹å­—ç¬¦ï¼Œä»…å½“<code>format_json</code>ä¸º<code>True</code>æ—¶æœ‰æ•ˆ</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>save_to_img()</code></td>
<td>å°†ç»“æœä¿å­˜ä¸ºå›¾åƒæ ¼å¼çš„æ–‡ä»¶</td>
<td><code>save_path</code></td>
<td><code>str</code></td>
<td>ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œå½“ä¸ºç›®å½•æ—¶ï¼Œä¿å­˜æ–‡ä»¶å‘½åä¸è¾“å…¥æ–‡ä»¶ç±»å‹å‘½åä¸€è‡´</td>
<td>æ— </td>
</tr>
</table>

* æ­¤å¤–ï¼Œä¹Ÿæ”¯æŒé€šè¿‡å±æ€§è·å–å¸¦ç»“æœçš„å¯è§†åŒ–å›¾åƒå’Œé¢„æµ‹ç»“æœï¼Œå…·ä½“å¦‚ä¸‹ï¼š

<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å±æ€§è¯´æ˜</th>
</tr>
</thead>
<tr>
<td rowspan="1"><code>json</code></td>
<td rowspan="1">è·å–é¢„æµ‹çš„<code>json</code>æ ¼å¼çš„ç»“æœ</td>
</tr>
<tr>
<td rowspan="1"><code>img</code></td>
<td rowspan="1">è·å–æ ¼å¼ä¸º<code>dict</code>çš„å¯è§†åŒ–å›¾åƒ</td>
</tr>
</table>

å…³äºæ›´å¤š PaddleX çš„å•æ¨¡å‹æ¨ç†çš„ API çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒ[PaddleXå•æ¨¡å‹Pythonè„šæœ¬ä½¿ç”¨è¯´æ˜](../../instructions/model_python_API.md)ã€‚
## å››ã€äºŒæ¬¡å¼€å‘
å¦‚æœä½ è¿½æ±‚æ›´é«˜ç²¾åº¦çš„ç°æœ‰æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨PaddleXçš„äºŒæ¬¡å¼€å‘èƒ½åŠ›ï¼Œå¼€å‘æ›´å¥½çš„äººè„¸æ£€æµ‹æ¨¡å‹ã€‚åœ¨ä½¿ç”¨PaddleXå¼€å‘äººè„¸æ£€æµ‹æ¨¡å‹ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å®‰è£…PaddleXçš„PaddleDetectionæ’ä»¶ï¼Œå®‰è£…è¿‡ç¨‹å¯ä»¥å‚è€ƒ [PaddleXæœ¬åœ°å®‰è£…æ•™ç¨‹](../../../installation/installation.md)

### 4.1 æ•°æ®å‡†å¤‡
åœ¨è¿›è¡Œæ¨¡å‹è®­ç»ƒå‰ï¼Œéœ€è¦å‡†å¤‡ç›¸åº”ä»»åŠ¡æ¨¡å—çš„æ•°æ®é›†ã€‚PaddleX é’ˆå¯¹æ¯ä¸€ä¸ªæ¨¡å—æä¾›äº†æ•°æ®æ ¡éªŒåŠŸèƒ½ï¼Œ<b>åªæœ‰é€šè¿‡æ•°æ®æ ¡éªŒçš„æ•°æ®æ‰å¯ä»¥è¿›è¡Œæ¨¡å‹è®­ç»ƒ</b>ã€‚æ­¤å¤–ï¼ŒPaddleXä¸ºæ¯ä¸€ä¸ªæ¨¡å—éƒ½æä¾›äº†demoæ•°æ®é›†ï¼Œæ‚¨å¯ä»¥åŸºäºå®˜æ–¹æä¾›çš„ Demo æ•°æ®å®Œæˆåç»­çš„å¼€å‘ã€‚è‹¥æ‚¨å¸Œæœ›ç”¨ç§æœ‰æ•°æ®é›†è¿›è¡Œåç»­çš„æ¨¡å‹è®­ç»ƒï¼Œå¯ä»¥å‚è€ƒ[PaddleXç›®æ ‡æ£€æµ‹ä»»åŠ¡æ¨¡å—æ•°æ®æ ‡æ³¨æ•™ç¨‹](../../../data_annotations/cv_modules/object_detection.md)ã€‚

#### 4.1.1 Demo æ•°æ®ä¸‹è½½
æ‚¨å¯ä»¥å‚è€ƒä¸‹é¢çš„å‘½ä»¤å°† Demo æ•°æ®é›†ä¸‹è½½åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼š

```bash
cd /path/to/paddlex
wget https://paddle-model-ecology.bj.bcebos.com/paddlex/data/widerface_coco_examples.tar -P ./dataset
tar -xf ./dataset/widerface_coco_examples.tar -C ./dataset/
```
#### 4.1.2 æ•°æ®æ ¡éªŒ
ä¸€è¡Œå‘½ä»¤å³å¯å®Œæˆæ•°æ®æ ¡éªŒï¼š

```bash
python main.py -c paddlex/configs/modules/face_detection/PicoDet_LCNet_x2_5_face.yaml \
    -o Global.mode=check_dataset \
    -o Global.dataset_dir=./dataset/widerface_coco_examples
```
æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼ŒPaddleX ä¼šå¯¹æ•°æ®é›†è¿›è¡Œæ ¡éªŒï¼Œå¹¶ç»Ÿè®¡æ•°æ®é›†çš„åŸºæœ¬ä¿¡æ¯ï¼Œå‘½ä»¤è¿è¡ŒæˆåŠŸåä¼šåœ¨logä¸­æ‰“å°å‡º`Check dataset passed !`ä¿¡æ¯ã€‚æ ¡éªŒç»“æœæ–‡ä»¶ä¿å­˜åœ¨`./output/check_dataset_result.json`ï¼ŒåŒæ—¶ç›¸å…³äº§å‡ºä¼šä¿å­˜åœ¨å½“å‰ç›®å½•çš„`./output/check_dataset`ç›®å½•ä¸‹ï¼Œäº§å‡ºç›®å½•ä¸­åŒ…æ‹¬å¯è§†åŒ–çš„ç¤ºä¾‹æ ·æœ¬å›¾ç‰‡å’Œæ ·æœ¬åˆ†å¸ƒç›´æ–¹å›¾ã€‚

<details><summary>ğŸ‘‰ <b>æ ¡éªŒç»“æœè¯¦æƒ…ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</b></summary>
<p>æ ¡éªŒç»“æœæ–‡ä»¶å…·ä½“å†…å®¹ä¸ºï¼š</p>
<pre><code class="language-bash">{
  "done_flag": true,
  "check_pass": true,
  "attributes": {
    "num_classes": 1,
    "train_samples": 500,
    "train_sample_paths": [
      "check_dataset/demo_img/0--Parade/0_Parade_marchingband_1_849.jpg",
      "check_dataset/demo_img/0--Parade/0_Parade_Parade_0_904.jpg",
      "check_dataset/demo_img/0--Parade/0_Parade_marchingband_1_799.jpg"
    ],
    "val_samples": 100,
    "val_sample_paths": [
      "check_dataset/demo_img/1--Handshaking/1_Handshaking_Handshaking_1_384.jpg",
      "check_dataset/demo_img/1--Handshaking/1_Handshaking_Handshaking_1_538.jpg",
      "check_dataset/demo_img/1--Handshaking/1_Handshaking_Handshaking_1_429.jpg"
    ]
  },
  "analysis": {
    "histogram": "check_dataset/histogram.png"
  },
  "dataset_path": "./dataset/example_data/widerface_coco_examples",
  "show_type": "image",
  "dataset_type": "COCODetDataset"
}
</code></pre>
<p>ä¸Šè¿°æ ¡éªŒç»“æœä¸­ï¼Œ<code>check_pass</code> ä¸º <code>True</code> è¡¨ç¤ºæ•°æ®é›†æ ¼å¼ç¬¦åˆè¦æ±‚ï¼Œå…¶ä»–éƒ¨åˆ†æŒ‡æ ‡çš„è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>attributes.num_classes</code>ï¼šè¯¥æ•°æ®é›†ç±»åˆ«æ•°ä¸º 1ï¼›</li>
<li><code>attributes.train_samples</code>ï¼šè¯¥æ•°æ®é›†è®­ç»ƒé›†æ ·æœ¬æ•°é‡ä¸º 500ï¼›</li>
<li><code>attributes.val_samples</code>ï¼šè¯¥æ•°æ®é›†éªŒè¯é›†æ ·æœ¬æ•°é‡ä¸º 100ï¼›</li>
<li><code>attributes.train_sample_paths</code>ï¼šè¯¥æ•°æ®é›†è®­ç»ƒé›†æ ·æœ¬å¯è§†åŒ–å›¾ç‰‡ç›¸å¯¹è·¯å¾„åˆ—è¡¨ï¼›</li>
<li><code>attributes.val_sample_paths</code>ï¼šè¯¥æ•°æ®é›†éªŒè¯é›†æ ·æœ¬å¯è§†åŒ–å›¾ç‰‡ç›¸å¯¹è·¯å¾„åˆ—è¡¨ï¼›</li>
</ul>
<p>æ•°æ®é›†æ ¡éªŒè¿˜å¯¹æ•°æ®é›†ä¸­æ‰€æœ‰ç±»åˆ«çš„æ ·æœ¬æ•°é‡åˆ†å¸ƒæƒ…å†µè¿›è¡Œäº†åˆ†æï¼Œå¹¶ç»˜åˆ¶äº†åˆ†å¸ƒç›´æ–¹å›¾ï¼ˆhistogram.pngï¼‰ï¼š</p>
<p><img src="https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/main/images/modules/face_det/01.png"/></p></details>

#### 4.1.3 æ•°æ®é›†æ ¼å¼è½¬æ¢/æ•°æ®é›†åˆ’åˆ†ï¼ˆå¯é€‰ï¼‰
åœ¨æ‚¨å®Œæˆæ•°æ®æ ¡éªŒä¹‹åï¼Œå¯ä»¥é€šè¿‡<b>ä¿®æ”¹é…ç½®æ–‡ä»¶</b>æˆ–æ˜¯<b>è¿½åŠ è¶…å‚æ•°</b>çš„æ–¹å¼å¯¹æ•°æ®é›†çš„æ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œä¹Ÿå¯ä»¥å¯¹æ•°æ®é›†çš„è®­ç»ƒ/éªŒè¯æ¯”ä¾‹è¿›è¡Œé‡æ–°åˆ’åˆ†ã€‚

<details><summary>ğŸ‘‰ <b>æ ¼å¼è½¬æ¢/æ•°æ®é›†åˆ’åˆ†è¯¦æƒ…ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</b></summary>
<p><b>ï¼ˆ1ï¼‰æ•°æ®é›†æ ¼å¼è½¬æ¢</b></p>
<p>äººè„¸æ£€æµ‹ä¸æ”¯æŒæ•°æ®æ ¼å¼è½¬æ¢ã€‚</p>
<p><b>ï¼ˆ2ï¼‰æ•°æ®é›†åˆ’åˆ†</b></p>
<p>æ•°æ®é›†åˆ’åˆ†çš„å‚æ•°å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­ <code>CheckDataset</code> ä¸‹çš„å­—æ®µè¿›è¡Œè®¾ç½®ï¼Œé…ç½®æ–‡ä»¶ä¸­éƒ¨åˆ†å‚æ•°çš„ç¤ºä¾‹è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>CheckDataset</code>:</li>
<li><code>split</code>:</li>
<li><code>enable</code>: æ˜¯å¦è¿›è¡Œé‡æ–°åˆ’åˆ†æ•°æ®é›†ï¼Œä¸º <code>True</code> æ—¶è¿›è¡Œæ•°æ®é›†æ ¼å¼è½¬æ¢ï¼Œé»˜è®¤ä¸º <code>False</code>ï¼›</li>
<li><code>train_percent</code>: å¦‚æœé‡æ–°åˆ’åˆ†æ•°æ®é›†ï¼Œåˆ™éœ€è¦è®¾ç½®è®­ç»ƒé›†çš„ç™¾åˆ†æ¯”ï¼Œç±»å‹ä¸º0-100ä¹‹é—´çš„ä»»æ„æ•´æ•°ï¼Œéœ€è¦ä¿è¯ä¸ <code>val_percent</code> çš„å€¼ä¹‹å’Œä¸º100ï¼›</li>
</ul>
<p>ä¾‹å¦‚ï¼Œæ‚¨æƒ³é‡æ–°åˆ’åˆ†æ•°æ®é›†ä¸º è®­ç»ƒé›†å æ¯”90%ã€éªŒè¯é›†å æ¯”10%ï¼Œåˆ™éœ€å°†é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºï¼š</p>
<pre><code class="language-bash">......
CheckDataset:
  ......
  split:
    enable: True
    train_percent: 90
    val_percent: 10
  ......
</code></pre>
<p>éšåæ‰§è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="language-bash">python main.py -c paddlex/configs/modules/face_detection/PicoDet_LCNet_x2_5_face.yaml \
    -o Global.mode=check_dataset \
    -o Global.dataset_dir=./dataset/widerface_coco_examples
</code></pre>
<p>æ•°æ®åˆ’åˆ†æ‰§è¡Œä¹‹åï¼ŒåŸæœ‰æ ‡æ³¨æ–‡ä»¶ä¼šè¢«åœ¨åŸè·¯å¾„ä¸‹é‡å‘½åä¸º <code>xxx.bak</code>ã€‚</p>
<p>ä»¥ä¸Šå‚æ•°åŒæ ·æ”¯æŒé€šè¿‡è¿½åŠ å‘½ä»¤è¡Œå‚æ•°çš„æ–¹å¼è¿›è¡Œè®¾ç½®ï¼š</p>
<pre><code class="language-bash">python main.py -c paddlex/configs/modules/face_detection/PicoDet_LCNet_x2_5_face.yaml  \
    -o Global.mode=check_dataset \
    -o Global.dataset_dir=./dataset/widerface_coco_examples \
    -o CheckDataset.split.enable=True \
    -o CheckDataset.split.train_percent=90 \
    -o CheckDataset.split.val_percent=10
</code></pre></details>

### 4.2 æ¨¡å‹è®­ç»ƒ
ä¸€æ¡å‘½ä»¤å³å¯å®Œæˆæ¨¡å‹çš„è®­ç»ƒï¼Œä»¥æ­¤å¤„PicoDet_LCNet_x2_5_faceçš„è®­ç»ƒä¸ºä¾‹ï¼š

```bash
python main.py -c paddlex/configs/modules/face_detection/PicoDet_LCNet_x2_5_face.yaml \
    -o Global.mode=train \
    -o Global.dataset_dir=./dataset/widerface_coco_examples
```
éœ€è¦å¦‚ä¸‹å‡ æ­¥ï¼š

* æŒ‡å®šæ¨¡å‹çš„`.yaml` é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆæ­¤å¤„ä¸º`PicoDet_LCNet_x2_5_face.yaml`ï¼Œè®­ç»ƒå…¶ä»–æ¨¡å‹æ—¶ï¼Œéœ€è¦çš„æŒ‡å®šç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼Œæ¨¡å‹å’Œé…ç½®çš„æ–‡ä»¶çš„å¯¹åº”å…³ç³»ï¼Œå¯ä»¥æŸ¥é˜…[PaddleXæ¨¡å‹åˆ—è¡¨ï¼ˆCPU/GPUï¼‰](../../../support_list/models_list.md)ï¼‰
* æŒ‡å®šæ¨¡å¼ä¸ºæ¨¡å‹è®­ç»ƒï¼š`-o Global.mode=train`
* æŒ‡å®šè®­ç»ƒæ•°æ®é›†è·¯å¾„ï¼š`-o Global.dataset_dir`
å…¶ä»–ç›¸å…³å‚æ•°å‡å¯é€šè¿‡ä¿®æ”¹`.yaml`é…ç½®æ–‡ä»¶ä¸­çš„`Global`å’Œ`Train`ä¸‹çš„å­—æ®µæ¥è¿›è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¿½åŠ å‚æ•°æ¥è¿›è¡Œè°ƒæ•´ã€‚å¦‚æŒ‡å®šå‰ 2 å¡ gpu è®­ç»ƒï¼š`-o Global.device=gpu:0,1`ï¼›è®¾ç½®è®­ç»ƒè½®æ¬¡æ•°ä¸º 10ï¼š`-o Train.epochs_iters=10`ã€‚æ›´å¤šå¯ä¿®æ”¹çš„å‚æ•°åŠå…¶è¯¦ç»†è§£é‡Šï¼Œå¯ä»¥æŸ¥é˜…æ¨¡å‹å¯¹åº”ä»»åŠ¡æ¨¡å—çš„é…ç½®æ–‡ä»¶è¯´æ˜[PaddleXé€šç”¨æ¨¡å‹é…ç½®æ–‡ä»¶å‚æ•°è¯´æ˜](../../instructions/config_parameters_common.md)ã€‚

<details><summary>ğŸ‘‰ <b>æ›´å¤šè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</b></summary>
<ul>
<li>æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒPaddleX ä¼šè‡ªåŠ¨ä¿å­˜æ¨¡å‹æƒé‡æ–‡ä»¶ï¼Œé»˜è®¤ä¸º<code>output</code>ï¼Œå¦‚éœ€æŒ‡å®šä¿å­˜è·¯å¾„ï¼Œå¯é€šè¿‡é…ç½®æ–‡ä»¶ä¸­ <code>-o Global.output</code> å­—æ®µè¿›è¡Œè®¾ç½®ã€‚</li>
<li>PaddleX å¯¹æ‚¨å±è”½äº†åŠ¨æ€å›¾æƒé‡å’Œé™æ€å›¾æƒé‡çš„æ¦‚å¿µã€‚åœ¨æ¨¡å‹è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œä¼šåŒæ—¶äº§å‡ºåŠ¨æ€å›¾å’Œé™æ€å›¾çš„æƒé‡ï¼Œåœ¨æ¨¡å‹æ¨ç†æ—¶ï¼Œé»˜è®¤é€‰æ‹©é™æ€å›¾æƒé‡æ¨ç†ã€‚</li>
<li>
<p>åœ¨å®Œæˆæ¨¡å‹è®­ç»ƒåï¼Œæ‰€æœ‰äº§å‡ºä¿å­˜åœ¨æŒ‡å®šçš„è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤ä¸º<code>./output/</code>ï¼‰ä¸‹ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹äº§å‡ºï¼š</p>
</li>
<li>
<p><code>train_result.json</code>ï¼šè®­ç»ƒç»“æœè®°å½•æ–‡ä»¶ï¼Œè®°å½•äº†è®­ç»ƒä»»åŠ¡æ˜¯å¦æ­£å¸¸å®Œæˆï¼Œä»¥åŠäº§å‡ºçš„æƒé‡æŒ‡æ ‡ã€ç›¸å…³æ–‡ä»¶è·¯å¾„ç­‰ï¼›</p>
</li>
<li><code>train.log</code>ï¼šè®­ç»ƒæ—¥å¿—æ–‡ä»¶ï¼Œè®°å½•äº†è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ¨¡å‹æŒ‡æ ‡å˜åŒ–ã€loss å˜åŒ–ç­‰ï¼›</li>
<li><code>config.yaml</code>ï¼šè®­ç»ƒé…ç½®æ–‡ä»¶ï¼Œè®°å½•äº†æœ¬æ¬¡è®­ç»ƒçš„è¶…å‚æ•°çš„é…ç½®ï¼›</li>
<li><code>.pdparams</code>ã€<code>.pdema</code>ã€<code>.pdopt.pdstate</code>ã€<code>.pdiparams</code>ã€<code>.pdmodel</code>ï¼šæ¨¡å‹æƒé‡ç›¸å…³æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç½‘ç»œå‚æ•°ã€ä¼˜åŒ–å™¨ã€EMAã€é™æ€å›¾ç½‘ç»œå‚æ•°ã€é™æ€å›¾ç½‘ç»œç»“æ„ç­‰ï¼›</li>
</ul></details>

## <b>4.3 æ¨¡å‹è¯„ä¼°</b>
åœ¨å®Œæˆæ¨¡å‹è®­ç»ƒåï¼Œå¯ä»¥å¯¹æŒ‡å®šçš„æ¨¡å‹æƒé‡æ–‡ä»¶åœ¨éªŒè¯é›†ä¸Šè¿›è¡Œè¯„ä¼°ï¼ŒéªŒè¯æ¨¡å‹ç²¾åº¦ã€‚ä½¿ç”¨ PaddleX è¿›è¡Œæ¨¡å‹è¯„ä¼°ï¼Œä¸€æ¡å‘½ä»¤å³å¯å®Œæˆæ¨¡å‹çš„è¯„ä¼°ï¼š

```bash
python main.py -c paddlex/configs/modules/face_detection/PicoDet_LCNet_x2_5_face.yaml \
    -o Global.mode=evaluate \
    -o Global.dataset_dir=./dataset/widerface_coco_examples
```
ä¸æ¨¡å‹è®­ç»ƒç±»ä¼¼ï¼Œéœ€è¦å¦‚ä¸‹å‡ æ­¥ï¼š

* æŒ‡å®šæ¨¡å‹çš„`.yaml` é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆæ­¤å¤„ä¸º`PicoDet_LCNet_x2_5_face.yaml`ï¼‰
* æŒ‡å®šæ¨¡å¼ä¸ºæ¨¡å‹è¯„ä¼°ï¼š`-o Global.mode=evaluate`
* æŒ‡å®šéªŒè¯æ•°æ®é›†è·¯å¾„ï¼š`-o Global.dataset_dir`
å…¶ä»–ç›¸å…³å‚æ•°å‡å¯é€šè¿‡ä¿®æ”¹`.yaml`é…ç½®æ–‡ä»¶ä¸­çš„`Global`å’Œ`Evaluate`ä¸‹çš„å­—æ®µæ¥è¿›è¡Œè®¾ç½®ï¼Œè¯¦ç»†è¯·å‚è€ƒ[PaddleXé€šç”¨æ¨¡å‹é…ç½®æ–‡ä»¶å‚æ•°è¯´æ˜](../../instructions/config_parameters_common.md)ã€‚

<details><summary>ğŸ‘‰ <b>æ›´å¤šè¯´æ˜ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</b></summary>
<p>åœ¨æ¨¡å‹è¯„ä¼°æ—¶ï¼Œéœ€è¦æŒ‡å®šæ¨¡å‹æƒé‡æ–‡ä»¶è·¯å¾„ï¼Œæ¯ä¸ªé…ç½®æ–‡ä»¶ä¸­éƒ½å†…ç½®äº†é»˜è®¤çš„æƒé‡ä¿å­˜è·¯å¾„ï¼Œå¦‚éœ€è¦æ”¹å˜ï¼Œåªéœ€è¦é€šè¿‡è¿½åŠ å‘½ä»¤è¡Œå‚æ•°çš„å½¢å¼è¿›è¡Œè®¾ç½®å³å¯ï¼Œå¦‚<code>-o Evaluate.weight_path=``./output/best_model/best_model/model.pdparams</code>ã€‚</p>
<p>åœ¨å®Œæˆæ¨¡å‹è¯„ä¼°åï¼Œä¼šäº§å‡º<code>evaluate_result.jsonï¼Œå…¶è®°å½•äº†</code>è¯„ä¼°çš„ç»“æœï¼Œå…·ä½“æ¥è¯´ï¼Œè®°å½•äº†è¯„ä¼°ä»»åŠ¡æ˜¯å¦æ­£å¸¸å®Œæˆï¼Œä»¥åŠæ¨¡å‹çš„è¯„ä¼°æŒ‡æ ‡ï¼ŒåŒ…å« APï¼›</p></details>

### <b>4.4 æ¨¡å‹æ¨ç†</b>
åœ¨å®Œæˆæ¨¡å‹çš„è®­ç»ƒå’Œè¯„ä¼°åï¼Œå³å¯ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡è¿›è¡Œæ¨ç†é¢„æµ‹ã€‚åœ¨PaddleXä¸­å®ç°æ¨¡å‹æ¨ç†é¢„æµ‹å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼šå‘½ä»¤è¡Œå’Œwheel åŒ…ã€‚

#### 4.4.1 æ¨¡å‹æ¨ç†
* é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼è¿›è¡Œæ¨ç†é¢„æµ‹ï¼Œåªéœ€å¦‚ä¸‹ä¸€æ¡å‘½ä»¤ï¼Œè¿è¡Œä»¥ä¸‹ä»£ç å‰ï¼Œè¯·æ‚¨ä¸‹è½½[ç¤ºä¾‹å›¾ç‰‡](https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/face_detection.png)åˆ°æœ¬åœ°ã€‚
```bash
python main.py -c paddlex/configs/modules/face_detection/PicoDet_LCNet_x2_5_face.yaml \
    -o Global.mode=predict \
    -o Predict.model_dir="./output/best_model/inference" \
    -o Predict.input="face_detection.png"
```
ä¸æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°ç±»ä¼¼ï¼Œéœ€è¦å¦‚ä¸‹å‡ æ­¥ï¼š

* æŒ‡å®šæ¨¡å‹çš„`.yaml` é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆæ­¤å¤„ä¸º`PicoDet_LCNet_x2_5_face.yaml`ï¼‰
* æŒ‡å®šæ¨¡å¼ä¸ºæ¨¡å‹æ¨ç†é¢„æµ‹ï¼š`-o Global.mode=predict`
* æŒ‡å®šæ¨¡å‹æƒé‡è·¯å¾„ï¼š`-o Predict.model_dir="./output/best_model/inference"`
* æŒ‡å®šè¾“å…¥æ•°æ®è·¯å¾„ï¼š`-o Predict.input="..."`
å…¶ä»–ç›¸å…³å‚æ•°å‡å¯é€šè¿‡ä¿®æ”¹`.yaml`é…ç½®æ–‡ä»¶ä¸­çš„`Global`å’Œ`Predict`ä¸‹çš„å­—æ®µæ¥è¿›è¡Œè®¾ç½®ï¼Œè¯¦ç»†è¯·å‚è€ƒ[PaddleXé€šç”¨æ¨¡å‹é…ç½®æ–‡ä»¶å‚æ•°è¯´æ˜](../../instructions/config_parameters_common.md)ã€‚

#### 4.4.2 æ¨¡å‹é›†æˆ
æ¨¡å‹å¯ä»¥ç›´æ¥é›†æˆåˆ° PaddleX äº§çº¿ä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é›†æˆåˆ°æ‚¨è‡ªå·±çš„é¡¹ç›®ä¸­ã€‚

1.<b>äº§çº¿é›†æˆ</b>

äººè„¸æ£€æµ‹æ¨¡å—å¯ä»¥é›†æˆçš„PaddleXäº§çº¿æœ‰[<b>äººè„¸è¯†åˆ«</b>](../../../pipeline_usage/tutorials/cv_pipelines/face_recognition.md)ï¼Œåªéœ€è¦æ›¿æ¢æ¨¡å‹è·¯å¾„å³å¯å®Œæˆç›¸å…³äº§çº¿çš„äººè„¸æ£€æµ‹æ¨¡å—çš„æ¨¡å‹æ›´æ–°ã€‚åœ¨äº§çº¿é›†æˆä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨é«˜æ€§èƒ½éƒ¨ç½²å’ŒæœåŠ¡åŒ–éƒ¨ç½²æ¥éƒ¨ç½²ä½ å¾—åˆ°çš„æ¨¡å‹ã€‚

2.<b>æ¨¡å—é›†æˆ</b>

æ‚¨äº§å‡ºçš„æƒé‡å¯ä»¥ç›´æ¥é›†æˆåˆ°äººè„¸æ£€æµ‹æ¨¡å—ä¸­ï¼Œå¯ä»¥å‚è€ƒ[å¿«é€Ÿé›†æˆ](#ä¸‰å¿«é€Ÿé›†æˆ)çš„ Python ç¤ºä¾‹ä»£ç ï¼Œåªéœ€è¦å°†æ¨¡å‹æ›¿æ¢ä¸ºä½ è®­ç»ƒçš„åˆ°çš„æ¨¡å‹è·¯å¾„å³å¯ã€‚

æ‚¨ä¹Ÿå¯ä»¥åˆ©ç”¨ PaddleX é«˜æ€§èƒ½æ¨ç†æ’ä»¶æ¥ä¼˜åŒ–æ‚¨æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹ï¼Œè¿›ä¸€æ­¥æå‡æ•ˆç‡ï¼Œè¯¦ç»†çš„æµç¨‹è¯·å‚è€ƒ[PaddleXé«˜æ€§èƒ½æ¨ç†æŒ‡å—](../../../pipeline_deploy/high_performance_inference.md)ã€‚
