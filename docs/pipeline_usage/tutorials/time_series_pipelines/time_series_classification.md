---
comments: true
---

# æ—¶åºåˆ†ç±»äº§çº¿ä½¿ç”¨æ•™ç¨‹

## 1. é€šç”¨æ—¶åºåˆ†ç±»äº§çº¿ä»‹ç»
æ—¶åºåˆ†ç±»æ˜¯ä¸€ç§å°†æ—¶é—´åºåˆ—æ•°æ®å½’ç±»åˆ°é¢„å®šä¹‰ç±»åˆ«çš„æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºè¡Œä¸ºè¯†åˆ«ã€é‡‘èè¶‹åŠ¿åˆ†æç­‰é¢†åŸŸã€‚å®ƒé€šè¿‡åˆ†æéšæ—¶é—´å˜åŒ–çš„ç‰¹å¾ï¼Œè¯†åˆ«å‡ºä¸åŒçš„æ¨¡å¼æˆ–äº‹ä»¶ï¼Œä¾‹å¦‚å°†ä¸€æ®µè¯­éŸ³ä¿¡å·åˆ†ç±»ä¸ºâ€œé—®å€™â€æˆ–â€œè¯·æ±‚â€ï¼Œæˆ–å°†è‚¡ç¥¨ä»·æ ¼èµ°åŠ¿åˆ’åˆ†ä¸ºâ€œä¸Šæ¶¨â€æˆ–â€œä¸‹è·Œâ€ã€‚æ—¶åºåˆ†ç±»é€šå¸¸ä½¿ç”¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæ•æ‰æ—¶é—´ä¾èµ–æ€§å’Œå˜åŒ–è§„å¾‹ï¼Œä»¥ä¾¿ä¸ºæ•°æ®æä¾›å‡†ç¡®çš„åˆ†ç±»æ ‡ç­¾ã€‚è¿™é¡¹æŠ€æœ¯åœ¨æ™ºèƒ½ç›‘æ§ã€å¸‚åœºé¢„æµ‹ç­‰åº”ç”¨ä¸­èµ·ç€å…³é”®ä½œç”¨ã€‚æœ¬äº§çº¿åŒæ—¶æä¾›äº†çµæ´»çš„æœåŠ¡åŒ–éƒ¨ç½²æ–¹å¼ï¼Œæ”¯æŒåœ¨å¤šç§ç¡¬ä»¶ä¸Šä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€è°ƒç”¨ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæœ¬äº§çº¿ä¹Ÿæä¾›äº†äºŒæ¬¡å¼€å‘çš„èƒ½åŠ›ï¼Œæ‚¨å¯ä»¥åŸºäºæœ¬äº§çº¿åœ¨æ‚¨è‡ªå·±çš„æ•°æ®é›†ä¸Šè®­ç»ƒè°ƒä¼˜ï¼Œè®­ç»ƒåçš„æ¨¡å‹ä¹Ÿå¯ä»¥æ— ç¼é›†æˆã€‚

<img src="https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/main/images/pipelines/time_series/01.png">


<b>é€šç”¨</b><b>æ—¶åºåˆ†ç±»</b><b>äº§çº¿ä¸­åŒ…å«äº†</b><b>æ—¶åºåˆ†ç±»</b><b>æ¨¡å—</b>ã€‚

<table>
<thead>
<tr>
<th>æ¨¡å‹</th><th>æ¨¡å‹ä¸‹è½½é“¾æ¥</th>
<th>acc(%)</th>
<th>æ¨¡å‹å­˜å‚¨å¤§å°ï¼ˆM)</th>
</tr>
</thead>
<tbody>
<tr>
<td>TimesNet_cls</td><td><a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_inference_model/paddle3.0rc0/TimesNet_cls_infer.tar">æ¨ç†æ¨¡å‹</a>/<a href="https://paddle-model-ecology.bj.bcebos.com/paddlex/official_pretrained_model/TimesNet_cls_pretrained.pdparams">è®­ç»ƒæ¨¡å‹</a></td>
<td>87.5</td>
<td>792K</td>
</tr>
</tbody>
</table>
<p><b>æ³¨ï¼šä»¥ä¸Šç²¾åº¦æŒ‡æ ‡æµ‹é‡è‡ª <a href="https://paddlets.bj.bcebos.com/classification/UWaveGestureLibrary_TEST.csv">UWaveGestureLibrary</a> æ•°æ®é›†ã€‚ä»¥ä¸Šæ‰€æœ‰æ¨¡å‹ GPU æ¨ç†è€—æ—¶åŸºäº NVIDIA Tesla T4 æœºå™¨ï¼Œç²¾åº¦ç±»å‹ä¸º FP32ï¼Œ CPU æ¨ç†é€Ÿåº¦åŸºäº Intel(R) Xeon(R) Gold 5117 CPU @ 2.00GHzï¼Œçº¿ç¨‹æ•°ä¸º8ï¼Œç²¾åº¦ç±»å‹ä¸º FP32ã€‚</b></p>

## 2. å¿«é€Ÿå¼€å§‹
PaddleX æ‰€æä¾›çš„é¢„è®­ç»ƒçš„æ¨¡å‹äº§çº¿å‡å¯ä»¥å¿«é€Ÿä½“éªŒæ•ˆæœï¼Œä½ å¯ä»¥åœ¨æ˜Ÿæ²³ç¤¾åŒºä½“éªŒé€šç”¨æ—¶åºåˆ†ç±»äº§çº¿çš„æ•ˆæœï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ä½¿ç”¨å‘½ä»¤è¡Œæˆ– Python ä½“éªŒæ—¶åºåˆ†ç±»äº§çº¿çš„æ•ˆæœã€‚

### 2.1 åœ¨çº¿ä½“éªŒ
æ‚¨å¯ä»¥[åœ¨çº¿ä½“éªŒ](https://aistudio.baidu.com/community/app/105707/webUI?source=appCenter)é€šç”¨æ—¶åºåˆ†ç±»äº§çº¿çš„æ•ˆæœï¼Œç”¨å®˜æ–¹æä¾›çš„ demo è¿›è¡Œè¯†åˆ«ï¼Œä¾‹å¦‚ï¼š

<img src="https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/main/images/pipelines/time_series/02.png">

å¦‚æœæ‚¨å¯¹äº§çº¿è¿è¡Œçš„æ•ˆæœæ»¡æ„ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œé›†æˆéƒ¨ç½²ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä»äº‘ç«¯ä¸‹è½½éƒ¨ç½²åŒ…ï¼Œä¹Ÿå¯ä»¥å‚è€ƒ[2.2èŠ‚æœ¬åœ°ä½“éªŒ](#22-æœ¬åœ°ä½“éªŒ)ä¸­çš„æ–¹æ³•è¿›è¡Œæœ¬åœ°éƒ¨ç½²ã€‚å¦‚æœå¯¹æ•ˆæœä¸æ»¡æ„ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨ç§æœ‰æ•°æ®<b>å¯¹äº§çº¿ä¸­çš„æ¨¡å‹è¿›è¡Œå¾®è°ƒè®­ç»ƒ</b>ã€‚å¦‚æœæ‚¨å…·å¤‡æœ¬åœ°è®­ç»ƒçš„ç¡¬ä»¶èµ„æºï¼Œå¯ä»¥ç›´æ¥åœ¨æœ¬åœ°å¼€å±•è®­ç»ƒï¼›å¦‚æœæ²¡æœ‰ï¼Œæ˜Ÿæ²³é›¶ä»£ç å¹³å°æä¾›äº†ä¸€é”®å¼è®­ç»ƒæœåŠ¡ï¼Œæ— éœ€ç¼–å†™ä»£ç ï¼Œåªéœ€ä¸Šä¼ æ•°æ®åï¼Œå³å¯ä¸€é”®å¯åŠ¨è®­ç»ƒä»»åŠ¡ã€‚

æ³¨ï¼šç”±äºæ—¶åºæ•°æ®å’Œåœºæ™¯ç´§å¯†ç›¸å…³ï¼Œæ—¶åºä»»åŠ¡çš„åœ¨çº¿ä½“éªŒå®˜æ–¹å†…ç½®æ¨¡å‹ä»…æ˜¯åœ¨ä¸€ä¸ªç‰¹å®šåœºæ™¯ä¸‹çš„æ¨¡å‹æ–¹æ¡ˆï¼Œå¹¶éé€šç”¨æ–¹æ¡ˆï¼Œä¸é€‚ç”¨å…¶ä»–åœºæ™¯ï¼Œå› æ­¤ä½“éªŒæ–¹å¼ä¸æ”¯æŒä½¿ç”¨ä»»æ„çš„æ–‡ä»¶æ¥ä½“éªŒå®˜æ–¹æ¨¡å‹æ–¹æ¡ˆæ•ˆæœã€‚ä½†æ˜¯ï¼Œåœ¨å®Œæˆè‡ªå·±åœºæ™¯æ•°æ®ä¸‹çš„æ¨¡å‹è®­ç»ƒä¹‹åï¼Œå¯ä»¥é€‰æ‹©è‡ªå·±è®­ç»ƒçš„æ¨¡å‹æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨å¯¹åº”åœºæ™¯çš„æ•°æ®è¿›è¡Œåœ¨çº¿ä½“éªŒã€‚

### 2.2 æœ¬åœ°ä½“éªŒ
åœ¨æœ¬åœ°ä½¿ç”¨é€šç”¨æ—¶åºåˆ†ç±»äº§çº¿å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»æŒ‰ç…§[PaddleXæœ¬åœ°å®‰è£…æ•™ç¨‹](../../../installation/installation.md)å®Œæˆäº†PaddleXçš„wheelåŒ…å®‰è£…ã€‚

#### 2.2.1 å‘½ä»¤è¡Œæ–¹å¼ä½“éªŒ
ä¸€è¡Œå‘½ä»¤å³å¯å¿«é€Ÿä½“éªŒæ—¶åºåˆ†ç±»äº§çº¿æ•ˆæœï¼Œä½¿ç”¨ [æµ‹è¯•æ–‡ä»¶](https://paddle-model-ecology.bj.bcebos.com/paddlex/ts/demo_ts/ts_cls.csv)ï¼Œå¹¶å°† `--input` æ›¿æ¢ä¸ºæœ¬åœ°è·¯å¾„ï¼Œè¿›è¡Œé¢„æµ‹

```bash
paddlex --pipeline ts_classification --input ts_cls.csv --device gpu:0 --save_path ./output
```

ç›¸å…³çš„å‚æ•°è¯´æ˜å¯ä»¥å‚è€ƒ[2.2.2 Pythonè„šæœ¬æ–¹å¼é›†æˆ](#222-pythonè„šæœ¬æ–¹å¼é›†æˆ)ä¸­çš„å‚æ•°è¯´æ˜ã€‚

è¿è¡Œåï¼Œä¼šå°†ç»“æœæ‰“å°åˆ°ç»ˆç«¯ä¸Šï¼Œç»“æœå¦‚ä¸‹ï¼š

```
{'input_path': 'ts_cls.csv', 'classification':         classid     score
sample
0             0  0.617688}
```

è¿è¡Œç»“æœå‚æ•°è¯´æ˜å¯ä»¥å‚è€ƒ[2.2.2 Pythonè„šæœ¬æ–¹å¼é›†æˆ](#222-pythonè„šæœ¬æ–¹å¼é›†æˆ)ä¸­çš„ç»“æœè§£é‡Šã€‚

æ—¶åºæ–‡ä»¶ç»“æœä¿å­˜åœ¨`save_path`ä¸‹ã€‚

#### 2.2.2 Pythonè„šæœ¬æ–¹å¼é›†æˆ
ä¸Šè¿°å‘½ä»¤è¡Œæ˜¯ä¸ºäº†å¿«é€Ÿä½“éªŒæŸ¥çœ‹æ•ˆæœï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œå¾€å¾€éœ€è¦é€šè¿‡ä»£ç é›†æˆï¼Œæ‚¨å¯ä»¥é€šè¿‡å‡ è¡Œä»£ç å³å¯å®Œæˆäº§çº¿çš„å¿«é€Ÿæ¨ç†ï¼Œæ¨ç†ä»£ç å¦‚ä¸‹ï¼š

```python
from paddlex import create_pipeline

pipeline = create_pipeline(pipeline="ts_cls")
output = pipeline.predict("ts_cls.csv")
for res in output:
    res.print() ## æ‰“å°é¢„æµ‹çš„ç»“æ„åŒ–è¾“å‡º
    res.save_to_csv(save_path="./output/") ## ä¿å­˜csvæ ¼å¼ç»“æœ
    res.save_to_json(save_path="./output/") ## ä¿å­˜jsonæ ¼å¼ç»“æœ
```

åœ¨ä¸Šè¿° Python è„šæœ¬ä¸­ï¼Œæ‰§è¡Œäº†å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

ï¼ˆ1ï¼‰é€šè¿‡ `create_pipeline()` å®ä¾‹åŒ–äº§çº¿å¯¹è±¡ï¼šå…·ä½“å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
<th>å‚æ•°ç±»å‹</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pipeline</code></td>
<td>äº§çº¿åç§°æˆ–æ˜¯äº§çº¿é…ç½®æ–‡ä»¶è·¯å¾„ã€‚å¦‚ä¸ºäº§çº¿åç§°ï¼Œåˆ™å¿…é¡»ä¸º PaddleX æ‰€æ”¯æŒçš„äº§çº¿ã€‚</td>
<td><code>str</code></td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>device</code></td>
<td>äº§çº¿æ¨ç†è®¾å¤‡ã€‚æ”¯æŒæŒ‡å®šGPUå…·ä½“å¡å·ï¼Œå¦‚â€œgpu:0â€ï¼Œå…¶ä»–ç¡¬ä»¶å…·ä½“å¡å·ï¼Œå¦‚â€œnpu:0â€ï¼ŒCPUå¦‚â€œcpuâ€ã€‚</td>
<td><code>str</code></td>
<td><code>gpu:0</code></td>
</tr>
<tr>
<td><code>use_hpip</code></td>
<td>æ˜¯å¦å¯ç”¨é«˜æ€§èƒ½æ¨ç†ï¼Œä»…å½“è¯¥äº§çº¿æ”¯æŒé«˜æ€§èƒ½æ¨ç†æ—¶å¯ç”¨ã€‚</td>
<td><code>bool</code></td>
<td><code>False</code></td>
</tr>
</tbody>
</table>

ï¼ˆ2ï¼‰è°ƒç”¨ ts_classification äº§çº¿å¯¹è±¡çš„ `predict()` æ–¹æ³•è¿›è¡Œæ¨ç†é¢„æµ‹ã€‚è¯¥æ–¹æ³•å°†è¿”å›ä¸€ä¸ª `generator`ã€‚ä»¥ä¸‹æ˜¯ `predict()` æ–¹æ³•çš„å‚æ•°åŠå…¶è¯´æ˜ï¼š

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
<th>å‚æ•°ç±»å‹</th>
<th>å¯é€‰é¡¹</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td><code>input</code></td>
<td>å¾…é¢„æµ‹æ•°æ®ï¼Œæ”¯æŒå¤šç§è¾“å…¥ç±»å‹ï¼Œå¿…å¡«</td>
<td><code>Python Var|str|list</code></td>
<td>
<ul>
  <li><b>Python Var</b>ï¼šå¦‚ <code>pandas.DataFrame</code> è¡¨ç¤ºçš„æ—¶åºæ•°æ®</li>
  <li><b>str</b>ï¼šå¦‚æ—¶åºæ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ï¼š<code>/root/data/ts.csv</code>ï¼›<b>å¦‚URLé“¾æ¥</b>ï¼Œå¦‚æ—¶åºæ–‡ä»¶çš„ç½‘ç»œURLï¼š<a href = "https://paddle-model-ecology.bj.bcebos.com/paddlex/ts/demo_ts/ts_cls.csv">ç¤ºä¾‹</a>ï¼›<b>å¦‚æœ¬åœ°ç›®å½•</b>ï¼Œè¯¥ç›®å½•ä¸‹éœ€åŒ…å«å¾…é¢„æµ‹æ—¶åºï¼Œå¦‚æœ¬åœ°è·¯å¾„ï¼š<code>/root/data/</code></li>
  <li><b>List</b>ï¼šåˆ—è¡¨å…ƒç´ éœ€ä¸ºä¸Šè¿°ç±»å‹æ•°æ®ï¼Œå¦‚<code>[pandas.DataFrame, pandas.DataFrame]</code>ï¼Œ<code>[\"/root/data/ts1.csv\", \"/root/data/ts2.csv\"]</code>ï¼Œ<code>[\"/root/data1\", \"/root/data2\"]</code></li>
</ul>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>device</code></td>
<td>äº§çº¿æ¨ç†è®¾å¤‡</td>
<td><code>str|None</code></td>
<td>
<ul>
  <li><b>CPU</b>ï¼šå¦‚ <code>cpu</code> è¡¨ç¤ºä½¿ç”¨ CPU è¿›è¡Œæ¨ç†ï¼›</li>
  <li><b>GPU</b>ï¼šå¦‚ <code>gpu:0</code> è¡¨ç¤ºä½¿ç”¨ç¬¬ 1 å— GPU è¿›è¡Œæ¨ç†ï¼›</li>
  <li><b>NPU</b>ï¼šå¦‚ <code>npu:0</code> è¡¨ç¤ºä½¿ç”¨ç¬¬ 1 å— NPU è¿›è¡Œæ¨ç†ï¼›</li>
  <li><b>XPU</b>ï¼šå¦‚ <code>xpu:0</code> è¡¨ç¤ºä½¿ç”¨ç¬¬ 1 å— XPU è¿›è¡Œæ¨ç†ï¼›</li>
  <li><b>MLU</b>ï¼šå¦‚ <code>mlu:0</code> è¡¨ç¤ºä½¿ç”¨ç¬¬ 1 å— MLU è¿›è¡Œæ¨ç†ï¼›</li>
  <li><b>DCU</b>ï¼šå¦‚ <code>dcu:0</code> è¡¨ç¤ºä½¿ç”¨ç¬¬ 1 å— DCU è¿›è¡Œæ¨ç†ï¼›</li>
  <li><b>None</b>ï¼šå¦‚æœè®¾ç½®ä¸º <code>None</code>, å°†é»˜è®¤ä½¿ç”¨äº§çº¿åˆå§‹åŒ–çš„è¯¥å‚æ•°å€¼ï¼Œåˆå§‹åŒ–æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨æœ¬åœ°çš„ GPU 0å·è®¾å¤‡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨ CPU è®¾å¤‡ï¼›</li>
</ul>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>

ï¼ˆ3ï¼‰å¯¹é¢„æµ‹ç»“æœè¿›è¡Œå¤„ç†ï¼Œæ¯ä¸ªæ ·æœ¬çš„é¢„æµ‹ç»“æœå‡ä¸º`dict`ç±»å‹ï¼Œä¸”æ”¯æŒæ‰“å°ã€ä¿å­˜ä¸º`csv`æ–‡ä»¶ã€ä¿å­˜ä¸º`json`æ–‡ä»¶çš„æ“ä½œ:


<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ–¹æ³•è¯´æ˜</th>
<th>å‚æ•°</th>
<th>å‚æ•°ç±»å‹</th>
<th>å‚æ•°è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tr>
<td rowspan = "3"><code>print()</code></td>
<td rowspan = "3">æ‰“å°ç»“æœåˆ°ç»ˆç«¯</td>
<td><code>format_json</code></td>
<td><code>bool</code></td>
<td>æ˜¯å¦å¯¹è¾“å‡ºå†…å®¹è¿›è¡Œä½¿ç”¨ <code>JSON</code> ç¼©è¿›æ ¼å¼åŒ–</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>indent</code></td>
<td><code>int</code></td>
<td>æŒ‡å®šç¼©è¿›çº§åˆ«ï¼Œä»¥ç¾åŒ–è¾“å‡ºçš„ <code>JSON</code> æ•°æ®ï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ï¼Œä»…å½“ <code>format_json</code> ä¸º <code>True</code> æ—¶æœ‰æ•ˆ</td>
<td>4</td>
</tr>
<tr>
<td><code>ensure_ascii</code></td>
<td><code>bool</code></td>
<td>æ§åˆ¶æ˜¯å¦å°†é <code>ASCII</code> å­—ç¬¦è½¬ä¹‰ä¸º <code>Unicode</code>ã€‚è®¾ç½®ä¸º <code>True</code> æ—¶ï¼Œæ‰€æœ‰é <code>ASCII</code> å­—ç¬¦å°†è¢«è½¬ä¹‰ï¼›<code>False</code> åˆ™ä¿ç•™åŸå§‹å­—ç¬¦ï¼Œä»…å½“<code>format_json</code>ä¸º<code>True</code>æ—¶æœ‰æ•ˆ</td>
<td><code>False</code></td>
</tr>
<tr>
<td rowspan = "3"><code>save_to_json()</code></td>
<td rowspan = "3">å°†ç»“æœä¿å­˜ä¸ºjsonæ ¼å¼çš„æ–‡ä»¶</td>
<td><code>save_path</code></td>
<td><code>str</code></td>
<td>ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œå½“ä¸ºç›®å½•æ—¶ï¼Œä¿å­˜æ–‡ä»¶å‘½åä¸è¾“å…¥æ–‡ä»¶ç±»å‹å‘½åä¸€è‡´</td>
<td>æ— </td>
</tr>
<tr>
<td><code>indent</code></td>
<td><code>int</code></td>
<td>æŒ‡å®šç¼©è¿›çº§åˆ«ï¼Œä»¥ç¾åŒ–è¾“å‡ºçš„ <code>JSON</code> æ•°æ®ï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ï¼Œä»…å½“ <code>format_json</code> ä¸º <code>True</code> æ—¶æœ‰æ•ˆ</td>
<td>4</td>
</tr>
<tr>
<td><code>ensure_ascii</code></td>
<td><code>bool</code></td>
<td>æ§åˆ¶æ˜¯å¦å°†é <code>ASCII</code> å­—ç¬¦è½¬ä¹‰ä¸º <code>Unicode</code>ã€‚è®¾ç½®ä¸º <code>True</code> æ—¶ï¼Œæ‰€æœ‰é <code>ASCII</code> å­—ç¬¦å°†è¢«è½¬ä¹‰ï¼›<code>False</code> åˆ™ä¿ç•™åŸå§‹å­—ç¬¦ï¼Œä»…å½“<code>format_json</code>ä¸º<code>True</code>æ—¶æœ‰æ•ˆ</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>save_to_csv()</code></td>
<td>å°†ç»“æœä¿å­˜ä¸ºæ—¶åºæ–‡ä»¶æ ¼å¼çš„æ–‡ä»¶</td>
<td><code>save_path</code></td>
<td><code>str</code></td>
<td>ä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼Œæ”¯æŒç›®å½•æˆ–æ–‡ä»¶è·¯å¾„</td>
<td>æ— </td>
</tr>
</table>

- è°ƒç”¨`print()` æ–¹æ³•ä¼šå°†ç»“æœæ‰“å°åˆ°ç»ˆç«¯ï¼Œæ‰“å°åˆ°ç»ˆç«¯çš„å†…å®¹è§£é‡Šå¦‚ä¸‹ï¼š
    - `input_path`: `(str)` å¾…é¢„æµ‹æ—¶åºæ–‡ä»¶çš„è¾“å…¥è·¯å¾„
    - `classification`: `(Pandas.DataFrame)` æ—¶åºåˆ†ç±»ç»“æœï¼ŒåŒ…å«æ ·æœ¬idå’Œå¯¹åº”çš„åˆ†ç±»ç±»åˆ«ä»¥åŠç½®ä¿¡åº¦å¾—åˆ†ã€‚

- è°ƒç”¨`save_to_json()` æ–¹æ³•ä¼šå°†ä¸Šè¿°å†…å®¹ä¿å­˜åˆ°æŒ‡å®šçš„`save_path`ä¸­ï¼Œå¦‚æœæŒ‡å®šä¸ºç›®å½•ï¼Œåˆ™ä¿å­˜çš„è·¯å¾„ä¸º`save_path/{your_ts_basename}_res.json`ï¼Œå¦‚æœæŒ‡å®šä¸ºæ–‡ä»¶ï¼Œåˆ™ç›´æ¥ä¿å­˜åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚ç”±äºjsonæ–‡ä»¶ä¸æ”¯æŒä¿å­˜numpyæ•°ç»„ï¼Œå› æ­¤ä¼šå°†å…¶ä¸­çš„`numpy.array`ç±»å‹è½¬æ¢ä¸ºåˆ—è¡¨å½¢å¼ã€‚
- è°ƒç”¨`save_to_csv()` æ–¹æ³•ä¼šå°†å¯è§†åŒ–ç»“æœä¿å­˜åˆ°æŒ‡å®šçš„`save_path`ä¸­ï¼Œå¦‚æœæŒ‡å®šä¸ºç›®å½•ï¼Œåˆ™ä¿å­˜çš„è·¯å¾„ä¸º`save_path/{your_ts_basename}_res.csv`ï¼Œå¦‚æœæŒ‡å®šä¸ºæ–‡ä»¶ï¼Œåˆ™ç›´æ¥ä¿å­˜åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚

* æ­¤å¤–ï¼Œä¹Ÿæ”¯æŒé€šè¿‡å±æ€§è·å–ä¸åŒæ ¼å¼çš„é¢„æµ‹ç»“æœï¼Œå…·ä½“å¦‚ä¸‹ï¼š

<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å±æ€§è¯´æ˜</th>
</tr>
</thead>
<tr>
<td rowspan = "1"><code>json</code></td>
<td rowspan = "1">è·å–é¢„æµ‹çš„ <code>json</code> æ ¼å¼çš„ç»“æœ</td>
</tr>
<tr>
<td rowspan = "2"><code>csv</code></td>
<td rowspan = "2">è·å–æ ¼å¼ä¸º <code>csv</code> æ ¼å¼çš„ç»“æœ</td>
</tr>
</table>


- `json` å±æ€§è·å–çš„é¢„æµ‹ç»“æœä¸ºdictç±»å‹çš„æ•°æ®ï¼Œç›¸å…³å†…å®¹ä¸è°ƒç”¨ `save_to_json()` æ–¹æ³•ä¿å­˜çš„å†…å®¹ä¸€è‡´ã€‚
- `csv` å±æ€§è¿”å›çš„æ˜¯ä¸€ä¸ª`Pandas.DataFrame`ç±»å‹æ•°æ®ï¼Œä¿å­˜äº†æ—¶åºåˆ†ç±»ç»“æœã€‚

æ­¤å¤–ï¼Œæ‚¨å¯ä»¥è·å– ts_classification äº§çº¿é…ç½®æ–‡ä»¶ï¼Œå¹¶åŠ è½½é…ç½®æ–‡ä»¶è¿›è¡Œé¢„æµ‹ã€‚å¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°†ç»“æœä¿å­˜åœ¨ `my_path` ä¸­ï¼š

```
paddlex --get_pipeline_config ts_classification --save_path ./my_path
```

è‹¥æ‚¨è·å–äº†é…ç½®æ–‡ä»¶ï¼Œå³å¯å¯¹æ—¶åºåˆ†ç±»äº§çº¿å„é¡¹é…ç½®è¿›è¡Œè‡ªå®šä¹‰ï¼Œåªéœ€è¦ä¿®æ”¹ `create_pipeline` æ–¹æ³•ä¸­çš„ `pipeline` å‚æ•°å€¼ä¸ºäº§çº¿é…ç½®æ–‡ä»¶è·¯å¾„å³å¯ã€‚

ä¾‹å¦‚ï¼Œè‹¥æ‚¨çš„é…ç½®æ–‡ä»¶ä¿å­˜åœ¨ `./my_path/ts_cls.yaml` ï¼Œåˆ™åªéœ€æ‰§è¡Œï¼š

```python
from paddlex import create_pipeline
pipeline = create_pipeline(pipeline="./my_path/ts_classification.yaml")
output = pipeline.predict("ts_cls.csv")
for res in output:
    res.print() ## æ‰“å°é¢„æµ‹çš„ç»“æ„åŒ–è¾“å‡º
    res.save_to_csv("./output/") ## ä¿å­˜csvæ ¼å¼ç»“æœ
    res.save_to_json("./output/") ## ä¿å­˜jsonæ ¼å¼ç»“æœ
```

## 3. å¼€å‘é›†æˆ/éƒ¨ç½²
å¦‚æœäº§çº¿å¯ä»¥è¾¾åˆ°æ‚¨å¯¹äº§çº¿æ¨ç†é€Ÿåº¦å’Œç²¾åº¦çš„è¦æ±‚ï¼Œæ‚¨å¯ä»¥ç›´æ¥è¿›è¡Œå¼€å‘é›†æˆ/éƒ¨ç½²ã€‚

è‹¥æ‚¨éœ€è¦å°†äº§çº¿ç›´æ¥åº”ç”¨åœ¨æ‚¨çš„Pythoné¡¹ç›®ä¸­ï¼Œå¯ä»¥å‚è€ƒ [2.2.2 Pythonè„šæœ¬æ–¹å¼](#222-pythonè„šæœ¬æ–¹å¼é›†æˆ)ä¸­çš„ç¤ºä¾‹ä»£ç ã€‚

æ­¤å¤–ï¼ŒPaddleX ä¹Ÿæä¾›äº†å…¶ä»–ä¸‰ç§éƒ¨ç½²æ–¹å¼ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š

ğŸš€ <b>é«˜æ€§èƒ½æ¨ç†</b>ï¼šåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè®¸å¤šåº”ç”¨å¯¹éƒ¨ç½²ç­–ç•¥çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆå°¤å…¶æ˜¯å“åº”é€Ÿåº¦ï¼‰æœ‰ç€è¾ƒä¸¥è‹›çš„æ ‡å‡†ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„é«˜æ•ˆè¿è¡Œä¸ç”¨æˆ·ä½“éªŒçš„æµç•…æ€§ã€‚ä¸ºæ­¤ï¼ŒPaddleX æä¾›é«˜æ€§èƒ½æ¨ç†æ’ä»¶ï¼Œæ—¨åœ¨å¯¹æ¨¡å‹æ¨ç†åŠå‰åå¤„ç†è¿›è¡Œæ·±åº¦æ€§èƒ½ä¼˜åŒ–ï¼Œå®ç°ç«¯åˆ°ç«¯æµç¨‹çš„æ˜¾è‘—æé€Ÿï¼Œè¯¦ç»†çš„é«˜æ€§èƒ½æ¨ç†æµç¨‹è¯·å‚è€ƒ[PaddleXé«˜æ€§èƒ½æ¨ç†æŒ‡å—](../../../pipeline_deploy/high_performance_inference.md)ã€‚

â˜ï¸ <b>æœåŠ¡åŒ–éƒ¨ç½²</b>ï¼šæœåŠ¡åŒ–éƒ¨ç½²æ˜¯å®é™…ç”Ÿäº§ç¯å¢ƒä¸­å¸¸è§çš„ä¸€ç§éƒ¨ç½²å½¢å¼ã€‚é€šè¿‡å°†æ¨ç†åŠŸèƒ½å°è£…ä¸ºæœåŠ¡ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ç½‘ç»œè¯·æ±‚æ¥è®¿é—®è¿™äº›æœåŠ¡ï¼Œä»¥è·å–æ¨ç†ç»“æœã€‚PaddleX æ”¯æŒå¤šç§äº§çº¿æœåŠ¡åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼Œè¯¦ç»†çš„äº§çº¿æœåŠ¡åŒ–éƒ¨ç½²æµç¨‹è¯·å‚è€ƒ[PaddleXæœåŠ¡åŒ–éƒ¨ç½²æŒ‡å—](../../../pipeline_deploy/serving.md)ã€‚

ä»¥ä¸‹æ˜¯åŸºç¡€æœåŠ¡åŒ–éƒ¨ç½²çš„APIå‚è€ƒä¸å¤šè¯­è¨€æœåŠ¡è°ƒç”¨ç¤ºä¾‹ï¼š

<details><summary>APIå‚è€ƒ</summary>

<p>å¯¹äºæœåŠ¡æä¾›çš„ä¸»è¦æ“ä½œï¼š</p>
<ul>
<li>HTTPè¯·æ±‚æ–¹æ³•ä¸ºPOSTã€‚</li>
<li>è¯·æ±‚ä½“å’Œå“åº”ä½“å‡ä¸ºJSONæ•°æ®ï¼ˆJSONå¯¹è±¡ï¼‰ã€‚</li>
<li>å½“è¯·æ±‚å¤„ç†æˆåŠŸæ—¶ï¼Œå“åº”çŠ¶æ€ç ä¸º<code>200</code>ï¼Œå“åº”ä½“çš„å±æ€§å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>logId</code></td>
<td><code>string</code></td>
<td>è¯·æ±‚çš„UUIDã€‚</td>
</tr>
<tr>
<td><code>errorCode</code></td>
<td><code>integer</code></td>
<td>é”™è¯¯ç ã€‚å›ºå®šä¸º<code>0</code>ã€‚</td>
</tr>
<tr>
<td><code>errorMsg</code></td>
<td><code>string</code></td>
<td>é”™è¯¯è¯´æ˜ã€‚å›ºå®šä¸º<code>"Success"</code>ã€‚</td>
</tr>
<tr>
<td><code>result</code></td>
<td><code>object</code></td>
<td>æ“ä½œç»“æœã€‚</td>
</tr>
</tbody>
</table>
<ul>
<li>å½“è¯·æ±‚å¤„ç†æœªæˆåŠŸæ—¶ï¼Œå“åº”ä½“çš„å±æ€§å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>logId</code></td>
<td><code>string</code></td>
<td>è¯·æ±‚çš„UUIDã€‚</td>
</tr>
<tr>
<td><code>errorCode</code></td>
<td><code>integer</code></td>
<td>é”™è¯¯ç ã€‚ä¸å“åº”çŠ¶æ€ç ç›¸åŒã€‚</td>
</tr>
<tr>
<td><code>errorMsg</code></td>
<td><code>string</code></td>
<td>é”™è¯¯è¯´æ˜ã€‚</td>
</tr>
</tbody>
</table>
<p>æœåŠ¡æä¾›çš„ä¸»è¦æ“ä½œå¦‚ä¸‹ï¼š</p>
<ul>
<li><b><code>infer</code></b></li>
</ul>
<p>å¯¹æ—¶åºæ•°æ®è¿›è¡Œåˆ†ç±»ã€‚</p>
<p><code>POST /time-series-classification</code></p>
<ul>
<li>è¯·æ±‚ä½“çš„å±æ€§å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>å«ä¹‰</th>
<th>æ˜¯å¦å¿…å¡«</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>csv</code></td>
<td><code>string</code></td>
<td>æœåŠ¡å™¨å¯è®¿é—®çš„CSVæ–‡ä»¶çš„URLæˆ–CSVæ–‡ä»¶å†…å®¹çš„Base64ç¼–ç ç»“æœã€‚CSVæ–‡ä»¶éœ€è¦ä½¿ç”¨UTF-8ç¼–ç ã€‚</td>
<td>æ˜¯</td>
</tr>
</tbody>
</table>
<ul>
<li>è¯·æ±‚å¤„ç†æˆåŠŸæ—¶ï¼Œå“åº”ä½“çš„<code>result</code>å…·æœ‰å¦‚ä¸‹å±æ€§ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>label</code></td>
<td><code>string</code></td>
<td>ç±»åˆ«æ ‡ç­¾ã€‚</td>
</tr>
<tr>
<td><code>score</code></td>
<td><code>number</code></td>
<td>ç±»åˆ«å¾—åˆ†ã€‚</td>
</tr>
</tbody>
</table>
<p><code>result</code>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-json">{
&quot;label&quot;: &quot;running&quot;,
&quot;score&quot;: 0.97
}
</code></pre></details>

<details><summary>å¤šè¯­è¨€è°ƒç”¨æœåŠ¡ç¤ºä¾‹</summary>

<details>
<summary>Python</summary>


<pre><code class="language-python">import base64
import requests

API_URL = &quot;http://localhost:8080/time-series-classification&quot; # æœåŠ¡URL
csv_path = &quot;./test.csv&quot;

# å¯¹æœ¬åœ°å›¾åƒè¿›è¡ŒBase64ç¼–ç 
with open(csv_path, &quot;rb&quot;) as file:
    csv_bytes = file.read()
    csv_data = base64.b64encode(csv_bytes).decode(&quot;ascii&quot;)

payload = {&quot;csv&quot;: csv_data}

# è°ƒç”¨API
response = requests.post(API_URL, json=payload)

# å¤„ç†æ¥å£è¿”å›æ•°æ®
assert response.status_code == 200
result = response.json()[&quot;result&quot;]
print(f&quot;label: {result['label']}, score: {result['score']}&quot;)
</code></pre></details>

<details><summary>C++</summary>

<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &quot;cpp-httplib/httplib.h&quot; // https://github.com/Huiyicc/cpp-httplib
#include &quot;nlohmann/json.hpp&quot; // https://github.com/nlohmann/json
#include &quot;base64.hpp&quot; // https://github.com/tobiaslocker/base64

int main() {
    httplib::Client client(&quot;localhost:8080&quot;);
    const std::string csvPath = &quot;./test.csv&quot;;

    httplib::Headers headers = {
        {&quot;Content-Type&quot;, &quot;application/json&quot;}
    };

    // è¿›è¡ŒBase64ç¼–ç 
    std::ifstream file(csvPath, std::ios::binary | std::ios::ate);
    std::streamsize size = file.tellg();
    file.seekg(0, std::ios::beg);

    std::vector&lt;char&gt; buffer(size);
    if (!file.read(buffer.data(), size)) {
        std::cerr &lt;&lt; &quot;Error reading file.&quot; &lt;&lt; std::endl;
        return 1;
    }
    std::string bufferStr(reinterpret_cast&lt;const char*&gt;(buffer.data()), buffer.size());
    std::string encodedCsv = base64::to_base64(bufferStr);

    nlohmann::json jsonObj;
    jsonObj[&quot;csv&quot;] = encodedCsv;
    std::string body = jsonObj.dump();

    // è°ƒç”¨API
    auto response = client.Post(&quot;/time-series-classification&quot;, headers, body, &quot;application/json&quot;);
    // å¤„ç†æ¥å£è¿”å›æ•°æ®
    if (response &amp;&amp; response-&gt;status == 200) {
        nlohmann::json jsonResponse = nlohmann::json::parse(response-&gt;body);
        auto result = jsonResponse[&quot;result&quot;];
        std::cout &lt;&lt; &quot;label: &quot; &lt;&lt; result[&quot;label&quot;] &lt;&lt; &quot;, score: &quot; &lt;&lt; result[&quot;score&quot;] &lt;&lt; std::endl;
    } else {
        std::cout &lt;&lt; &quot;Failed to send HTTP request.&quot; &lt;&lt; std::endl;
        std::cout &lt;&lt; response-&gt;body &lt;&lt; std::endl;
        return 1;
    }

    return 0;
}
</code></pre></details>

<details><summary>Java</summary>

<pre><code class="language-java">import okhttp3.*;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.node.ObjectNode;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Base64;

public class Main {
    public static void main(String[] args) throws IOException {
        String API_URL = &quot;http://localhost:8080/time-series-classification&quot;;
        String csvPath = &quot;./test.csv&quot;;

        // å¯¹æœ¬åœ°csvè¿›è¡ŒBase64ç¼–ç 
        File file = new File(csvPath);
        byte[] fileContent = java.nio.file.Files.readAllBytes(file.toPath());
        String csvData = Base64.getEncoder().encodeToString(fileContent);

        ObjectMapper objectMapper = new ObjectMapper();
        ObjectNode params = objectMapper.createObjectNode();
        params.put(&quot;csv&quot;, csvData);

        // åˆ›å»º OkHttpClient å®ä¾‹
        OkHttpClient client = new OkHttpClient();
        MediaType JSON = MediaType.Companion.get(&quot;application/json; charset=utf-8&quot;);
        RequestBody body = RequestBody.Companion.create(params.toString(), JSON);
        Request request = new Request.Builder()
                .url(API_URL)
                .post(body)
                .build();

        // è°ƒç”¨APIå¹¶å¤„ç†æ¥å£è¿”å›æ•°æ®
        try (Response response = client.newCall(request).execute()) {
            if (response.isSuccessful()) {
                String responseBody = response.body().string();
                JsonNode resultNode = objectMapper.readTree(responseBody);
                JsonNode result = resultNode.get(&quot;result&quot;);
                System.out.println(&quot;label: &quot; + result.get(&quot;label&quot;).asText() + &quot;, score: &quot; + result.get(&quot;score&quot;).asText());
            } else {
                System.err.println(&quot;Request failed with code: &quot; + response.code());
            }
        }
    }
}
</code></pre></details>

<details><summary>Go</summary>

<pre><code class="language-go">package main

import (
    &quot;bytes&quot;
    &quot;encoding/base64&quot;
    &quot;encoding/json&quot;
    &quot;fmt&quot;
    &quot;io/ioutil&quot;
    &quot;net/http&quot;
)

func main() {
    API_URL := &quot;http://localhost:8080/time-series-classification&quot;
    csvPath := &quot;./test.csv&quot;;

    // è¯»å–csvæ–‡ä»¶å¹¶è¿›è¡ŒBase64ç¼–ç 
    csvBytes, err := ioutil.ReadFile(csvPath)
    if err != nil {
        fmt.Println(&quot;Error reading csv file:&quot;, err)
        return
    }
    csvData := base64.StdEncoding.EncodeToString(csvBytes)

    payload := map[string]string{&quot;csv&quot;: csvData} // Base64ç¼–ç çš„æ–‡ä»¶å†…å®¹
    payloadBytes, err := json.Marshal(payload)
    if err != nil {
        fmt.Println(&quot;Error marshaling payload:&quot;, err)
        return
    }

    // è°ƒç”¨API
    client := &amp;http.Client{}
    req, err := http.NewRequest(&quot;POST&quot;, API_URL, bytes.NewBuffer(payloadBytes))
    if err != nil {
        fmt.Println(&quot;Error creating request:&quot;, err)
        return
    }

    res, err := client.Do(req)
    if err != nil {
        fmt.Println(&quot;Error sending request:&quot;, err)
        return
    }
    defer res.Body.Close()

    // å¤„ç†è¿”å›æ•°æ®
    body, err := ioutil.ReadAll(res.Body)
    if err != nil {
        fmt.Println(&quot;Error reading response body:&quot;, err)
        return
    }
    type Response struct {
        Result struct {
            Label string `json:&quot;label&quot;`
            Score string `json:&quot;score&quot;`
        } `json:&quot;result&quot;`
    }
    var respData Response
    err = json.Unmarshal([]byte(string(body)), &amp;respData)
    if err != nil {
        fmt.Println(&quot;Error unmarshaling response body:&quot;, err)
        return
    }

    fmt.Printf(&quot;label: %s, score: %s\n&quot;, respData.Result.Label, respData.Result.Score)
}
</code></pre></details>

<details><summary>C#</summary>

<pre><code class="language-csharp">using System;
using System.IO;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;
using System.Threading.Tasks;
using Newtonsoft.Json.Linq;

class Program
{
    static readonly string API_URL = &quot;http://localhost:8080/time-series-classification&quot;;
    static readonly string csvPath = &quot;./test.csv&quot;;

    static async Task Main(string[] args)
    {
        var httpClient = new HttpClient();

        // å¯¹æœ¬åœ°csvæ–‡ä»¶è¿›è¡ŒBase64ç¼–ç 
        byte[] csveBytes = File.ReadAllBytes(csvPath);
        string csvData = Convert.ToBase64String(csveBytes);

        var payload = new JObject{ { &quot;csv&quot;, csvData } }; // Base64ç¼–ç çš„æ–‡ä»¶å†…å®¹
        var content = new StringContent(payload.ToString(), Encoding.UTF8, &quot;application/json&quot;);

        // è°ƒç”¨API
        HttpResponseMessage response = await httpClient.PostAsync(API_URL, content);
        response.EnsureSuccessStatusCode();

        // å¤„ç†æ¥å£è¿”å›æ•°æ®
        string responseBody = await response.Content.ReadAsStringAsync();
        JObject jsonResponse = JObject.Parse(responseBody);

        string label = jsonResponse[&quot;result&quot;][&quot;label&quot;].ToString();
        string score = jsonResponse[&quot;result&quot;][&quot;score&quot;].ToString();
        Console.WriteLine($&quot;label: {label}, score: {score}&quot;);
    }
}
</code></pre></details>

<details><summary>Node.js</summary>

<pre><code class="language-js">const axios = require('axios');
const fs = require('fs');

const API_URL = 'http://localhost:8080/time-series-classification'
const csvPath = &quot;./test.csv&quot;;

let config = {
   method: 'POST',
   maxBodyLength: Infinity,
   url: API_URL,
   data: JSON.stringify({
    'csv': encodeFileToBase64(csvPath)  // Base64ç¼–ç çš„æ–‡ä»¶å†…å®¹
  })
};

// è¯»å–csvæ–‡ä»¶å¹¶è½¬æ¢ä¸ºBase64
function encodeFileToBase64(filePath) {
  const bitmap = fs.readFileSync(filePath);
  return Buffer.from(bitmap).toString('base64');
}

axios.request(config)
.then((response) =&gt; {
    const result = response.data[&quot;result&quot;];
    console.log(`label: ${result[&quot;label&quot;]}, score: ${result[&quot;score&quot;]}`);
})
.catch((error) =&gt; {
  console.log(error);
});
</code></pre></details>

<details><summary>PHP</summary>

<pre><code class="language-php">&lt;?php

$API_URL = &quot;http://localhost:8080/time-series-classification&quot;; // æœåŠ¡URL
$csv_path = &quot;./test.csv&quot;;

// å¯¹æœ¬åœ°csvæ–‡ä»¶è¿›è¡ŒBase64ç¼–ç 
$csv_data = base64_encode(file_get_contents($csv_path));
$payload = array(&quot;csv&quot; =&gt; $csv_data); // Base64ç¼–ç çš„æ–‡ä»¶å†…å®¹

// è°ƒç”¨API
$ch = curl_init($API_URL);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: application/json'));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$response = curl_exec($ch);
curl_close($ch);

// å¤„ç†æ¥å£è¿”å›æ•°æ®
$result = json_decode($response, true)[&quot;result&quot;];
echo &quot;label: &quot; . $result[&quot;label&quot;] . &quot;, score: &quot; . $result[&quot;score&quot;];

?&gt;
</code></pre></details>
</details>
<br/>

ğŸ“± <b>ç«¯ä¾§éƒ¨ç½²</b>ï¼šç«¯ä¾§éƒ¨ç½²æ˜¯ä¸€ç§å°†è®¡ç®—å’Œæ•°æ®å¤„ç†åŠŸèƒ½æ”¾åœ¨ç”¨æˆ·è®¾å¤‡æœ¬èº«ä¸Šçš„æ–¹å¼ï¼Œè®¾å¤‡å¯ä»¥ç›´æ¥å¤„ç†æ•°æ®ï¼Œè€Œä¸éœ€è¦ä¾èµ–è¿œç¨‹çš„æœåŠ¡å™¨ã€‚PaddleX æ”¯æŒå°†æ¨¡å‹éƒ¨ç½²åœ¨ Android ç­‰ç«¯ä¾§è®¾å¤‡ä¸Šï¼Œè¯¦ç»†çš„ç«¯ä¾§éƒ¨ç½²æµç¨‹è¯·å‚è€ƒ[PaddleXç«¯ä¾§éƒ¨ç½²æŒ‡å—](../../../pipeline_deploy/edge_deploy.md)ã€‚
æ‚¨å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„æ–¹å¼éƒ¨ç½²æ¨¡å‹äº§çº¿ï¼Œè¿›è€Œè¿›è¡Œåç»­çš„ AI åº”ç”¨é›†æˆã€‚


## 4. äºŒæ¬¡å¼€å‘
å¦‚æœæ—¶åºåˆ†ç±»äº§çº¿æä¾›çš„é»˜è®¤æ¨¡å‹æƒé‡åœ¨æ‚¨çš„åœºæ™¯ä¸­ï¼Œç²¾åº¦æˆ–é€Ÿåº¦ä¸æ»¡æ„ï¼Œæ‚¨å¯ä»¥å°è¯•åˆ©ç”¨<b>æ‚¨è‡ªå·±æ‹¥æœ‰çš„ç‰¹å®šé¢†åŸŸæˆ–åº”ç”¨åœºæ™¯çš„æ•°æ®</b>å¯¹ç°æœ‰æ¨¡å‹è¿›è¡Œè¿›ä¸€æ­¥çš„<b>å¾®è°ƒ</b>ï¼Œä»¥æå‡æ—¶åºåˆ†ç±»äº§çº¿çš„åœ¨æ‚¨çš„åœºæ™¯ä¸­çš„è¯†åˆ«æ•ˆæœã€‚


### 4.1 æ¨¡å‹å¾®è°ƒ
ç”±äºæ—¶åºåˆ†ç±»äº§çº¿åŒ…å«æ—¶åºåˆ†ç±»æ¨¡å—ï¼Œå¦‚æœæ¨¡å‹äº§çº¿çš„æ•ˆæœä¸åŠé¢„æœŸï¼Œé‚£ä¹ˆæ‚¨éœ€è¦å‚è€ƒ[æ—¶åºåˆ†ç±»æ¨¡å—å¼€å‘æ•™ç¨‹](../../../module_usage/tutorials/time_series_modules/time_series_classification.md)ä¸­çš„[äºŒæ¬¡å¼€å‘](../../../module_usage/tutorials/time_series_modules/time_series_classification.md#å››äºŒæ¬¡å¼€å‘)ç« èŠ‚ï¼Œä½¿ç”¨æ‚¨çš„ç§æœ‰æ•°æ®é›†å¯¹æ—¶åºåˆ†ç±»æ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚

### 4.2 æ¨¡å‹åº”ç”¨
å½“æ‚¨ä½¿ç”¨ç§æœ‰æ•°æ®é›†å®Œæˆå¾®è°ƒè®­ç»ƒåï¼Œå¯è·å¾—æœ¬åœ°æ¨¡å‹æƒé‡æ–‡ä»¶ã€‚

è‹¥æ‚¨éœ€è¦ä½¿ç”¨å¾®è°ƒåçš„æ¨¡å‹æƒé‡ï¼Œåªéœ€å¯¹äº§çº¿é…ç½®æ–‡ä»¶åšä¿®æ”¹ï¼Œå°†å¾®è°ƒåæ¨¡å‹æƒé‡çš„æœ¬åœ°è·¯å¾„å¡«å†™è‡³äº§çº¿é…ç½®æ–‡ä»¶ä¸­çš„ `model_dir` å³å¯ï¼š

```yaml
pipeline_name: ts_classification

SubModules:
  TSClassification:
    module_name: ts_classification
    model_name: TimesNet_cls
    model_dir: null  # æ­¤å¤„æ›¿æ¢ä¸ºæ‚¨è®­ç»ƒåå¾—åˆ°çš„æ¨¡å‹æƒé‡æœ¬åœ°è·¯å¾„
    batch_size: 1
```

éšåï¼Œ å‚è€ƒæœ¬åœ°ä½“éªŒä¸­çš„å‘½ä»¤è¡Œæ–¹å¼æˆ– Python è„šæœ¬æ–¹å¼ï¼ŒåŠ è½½ä¿®æ”¹åçš„äº§çº¿é…ç½®æ–‡ä»¶å³å¯ã€‚

##  5. å¤šç¡¬ä»¶æ”¯æŒ
PaddleX æ”¯æŒè‹±ä¼Ÿè¾¾ GPUã€æ˜†ä»‘èŠ¯ XPUã€æ˜‡è…¾ NPUå’Œå¯’æ­¦çºª MLU ç­‰å¤šç§ä¸»æµç¡¬ä»¶è®¾å¤‡ï¼Œ<b>ä»…éœ€ä¿®æ”¹ `--device` å‚æ•°</b>å³å¯å®Œæˆä¸åŒç¡¬ä»¶ä¹‹é—´çš„æ— ç¼åˆ‡æ¢ã€‚

ä¾‹å¦‚ï¼Œæ‚¨ä½¿ç”¨æ˜‡è…¾ NPU è¿›è¡Œæ—¶åºåˆ†ç±»äº§çº¿çš„æ¨ç†ï¼Œä½¿ç”¨çš„ CLI å‘½ä»¤ä¸ºï¼š

```bash
paddlex --pipeline ts_classification --input ts_cls.csv --device npu:0
```

å½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨ Python è„šæœ¬ä¸­ `create_pipeline()` æ—¶æˆ–è€… `predict()` æ—¶æŒ‡å®šç¡¬ä»¶è®¾å¤‡ã€‚

è‹¥æ‚¨æƒ³åœ¨æ›´å¤šç§ç±»çš„ç¡¬ä»¶ä¸Šä½¿ç”¨é€šç”¨æ—¶åºåˆ†ç±»äº§çº¿ï¼Œè¯·å‚è€ƒ[PaddleXå¤šç¡¬ä»¶ä½¿ç”¨æŒ‡å—](../../../other_devices_support/multi_devices_use_guide.md)ã€‚
